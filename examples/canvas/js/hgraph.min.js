/*! HGraph.js
 * Authors:
 *  Michael Bester <michael@kimili.com>
 *  Ivan DiLernia <ivan@goinvo.com>
 *  Danny Hadley <danny@goinvo.com>
 *  Matt Madonna <matthew@myimedia.com>
 *
 * License:
 * Copyright 2012, Involution Studios <http://goinvo.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *  
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/
(function(s){var bk={},bF={},bp={},aF=false,aE={};function bd(){return +new Date}var q=function(b5,ch){if(b5===""&&ch){return ch}var ca=b5.split(" ");var b8=ca.shift();var b4;if(b8.charAt(0)=="#"){var b9=o.getElementById(b8.substring(1));b4=b9?[b9]:[]}else{var bX=b8.charAt(0)!=="."?b8.split(".")[0]:"*";var cf=b8.split(".");var cc=null;if(bX.indexOf("[")!=-1){cc=bX;bX=bX.substr(0,bX.indexOf("["))}var bY=function(b2){var b1=arguments.callee;if((!b1.needClass||at(b2,b1.classes))&&(!b1.needAttribute||bC(b2,b1.attributes))){return b2}};var ce=[];for(var bZ=0;bZ<ch.length;bZ++){var b7=ch[bZ].getElementsByTagName(bX);for(var cg=0;cg<b7.length;cg++){ce.push(b7[cg])}}if(cf){cf.shift()}b4=[];bY.classes=cf;if(cc!=null){var b3=cc.indexOf("[");var b0=cc.lastIndexOf("]");var cb=cc.substring(b3+1,b0);var b6=cb.split("][")}bY.attributes=cc!=null?b6:null;bY.needClass=(b8.indexOf(".")!=-1&&cf.length>0);bY.needAttribute=(cc!=null);for(var cd=0;cd<ce.length;cd++){if(bY(ce[cd])){b4.push(ce[cd])}}}return q(ca.join(" "),b4)};var bA=function(bX,b1){b1=b1||o;if(bX.nodeType&&bX.nodeType===b){bX=o.body;if(bX===null){return[o]}}if(bX.nodeType&&bX.nodeType===be){return[bX]}if(bX.jquery&&typeof bX.jquery==="string"){return bX.toArray()}if(b1){b1=bO(b1)}if(Z.isArray(bX)){return bX}else{if(typeof bX==="string"){var b0=[];for(var b3=0;b3<b1.length;b3++){var b2=[b1[b3]];if(!Z.forceSimpleSelectorEngine&&b2[0].querySelectorAll){var bY=b2[0].querySelectorAll(bX);for(var bZ=0;bZ<bY.length;bZ++){b0.push(bY.item(bZ))}}else{b0=b0.concat(q(bX,b2))}}return b0}else{return null}}};var at=function(bX,bY){if(bX.className.length==0){return false}var b1=bX.className.split(" ");var bZ=bY.length;for(var b0=0;b0<bY.length;b0++){if(Z.inArray(bY[b0],b1)!=-1){bZ--}}return(bZ==0)};var bC=function(b0,bY){var b2=true;for(var bZ=0;bZ<bY.length;bZ++){var bX=bY[bZ].split("=");var b1=(bX[0].indexOf("!")!=-1||bX[0].indexOf("*")!=-1)?bX[0].charAt(bX[0].length-1)+"=":"=";if(b1!="="){bX[0]=bX[0].substring(0,bX[0].length-1)}switch(b1){case"=":b2&=(b0.getAttribute(bX[0])===bX[1]);break;case"!=":b2&=(b0.getAttribute(bX[0])!==bX[1]);break;case"*=":b2&=(b0.getAttribute(bX[0]).indexOf(bX[1])!=-1);break;default:b2=false}}return b2};var W=false;setTimeout(function(){var bX=o.body;if(!bX){setTimeout(arguments.callee,33);return}var bZ=o.createElement("script"),b1="i"+new Date().getTime();bZ.type="text/javascript";try{bZ.appendChild(o.createTextNode("window."+b1+"=1;"))}catch(b0){}bX.insertBefore(bZ,bX.firstChild);var bY=true;if(window[b1]){delete window[b1]}else{bY=false}bX.removeChild(bZ);W=bY},33);var av=function(bY){var bZ=o.createElement("div");bZ.innerHTML=bY;var bX=bZ.getElementsByTagName("script");return{scripts:bX,data:bY}};var aX=function(b2,bZ){bZ=bZ||false;b2=(!b2?"":b2.toString().replace(/^\s*|\s*$/g,""));var bY="";if(b2.length<=0){return""}var b1=false;if(!bZ){bY+=b2.charAt(0).toUpperCase()}else{bY+=b2.charAt(0)}for(var bX=1;bX<b2.length;bX++){if(b1){bY+=b2.charAt(bX).toUpperCase()}else{bY+=b2.charAt(bX).toLowerCase()}var b0=b2.charCodeAt(bX);b1=b0==32||b0==45||b0==46;if(b0==99||b0==67){if(b2.charCodeAt(bX-1)==77||b2.charCodeAt(bX-1)==109){b1=true}}}return bY};var g=function(bX){var bY=bX.replace(/-/g," ");bY=aX(bY,true);return bY.replace(/ /g,"")};var aK={click:"MouseEvents",dblclick:"MouseEvents",mousedown:"MouseEvents",mouseup:"MouseEvents",mouseover:"MouseEvents",mousemove:"MouseEvents",mouseout:"MouseEvents",contextmenu:"MouseEvents",keypress:"KeyEvents",keydown:"KeyEvents",keyup:"KeyEvents",load:"HTMLEvents",unload:"HTMLEvents",abort:"HTMLEvents",error:"HTMLEvents",resize:"HTMLEvents",scroll:"HTMLEvents",select:"HTMLEvents",change:"HTMLEvents",submit:"HTMLEvents",reset:"HTMLEvents",focus:"HTMLEvents",blur:"HTMLEvents",touchstart:"MouseEvents",touchend:"MouseEvents",touchmove:"MouseEvents"};var bW=function(bY){if(typeof bY==="string"){bY=bY.toLowerCase()}var bX=null;var bZ=aK[bY]||"Event";if(o.createEvent){bX=o.createEvent(bZ);bX._eventClass=bZ;if(bY){bX.initEvent(bY,true,true)}}if(o.createEventObject){bX=o.createEventObject();if(bY){bX.type=bY;bX._eventClass=bZ}}return bX};var bu=function(bY,bX,b0){var b5=bW(bX);if(b5._eventClass!=="Event"){b5.data=b0;return bY.dispatchEvent(b5)}else{var b4=bY._handlers||{};var bZ=b4[bX];if(bZ){for(var b1=0;b1<bZ.length;b1++){var b3=Z.isArray(b0)?b0:[];b3.unshift(b5);var b2=bZ[b1].apply(bY,b3);b2=(typeof b2=="undefined"?true:b2);if(!b2){break}}}}};var bx=function(b1,bY,b0){if(!Z.isFunction(b0)){return}if(typeof bY==="string"){bY=bY.toLowerCase()}var b2=aK[bY];if(bY.indexOf("on")==0){bY=bY.substring(2)}if(b2){var bZ=function(b3){var b5=arguments.callee;var b4=b3.data||[];b4.unshift(b3);var b6=b5.fn.apply(b1,b4);if(typeof b6!="undefined"&&b6===false){if(b3.preventDefault&&b3.stopPropagation){b3.preventDefault();b3.stopPropagation()}else{b3.returnValue=false;b3.cancelBubble=true}return false}return true};bZ.fn=b0;if(b1.addEventListener){b1.addEventListener(bY,bZ,false)}else{b1.attachEvent("on"+bY,bZ)}}else{if(!b1._handlers){b1._handlers={}}var bX=b1._handlers[bY]||[];bX.push(b0);b1._handlers[bY]=bX}};var aI=function(bZ,bX,bY){bZ["on"+bX]=null};var Z=function(bX,bY){return new ac().init(bX,bY)},o=window.document,aa=Object.prototype.hasOwnProperty,w=Object.prototype.toString,v=Array.prototype.push,N=Array.prototype.slice,be=1,b=9,ao=[],Y=false,I=false,aY;Z.forceSimpleSelectorEngine=false;Z.each=function(b3,b0){var bY,bZ=0,b1=b3.length,bX=b1===undefined||Z.isFunction(b3);if(bX){for(bY in b3){if(b0.call(b3[bY],bY,b3[bY])===false){break}}}else{for(var b2=b3[0];bZ<b1&&b0.call(b2,bZ,b2)!==false;b2=b3[++bZ]){}}return b3};Z.noop=function(){};Z.isFunction=function(bX){return w.call(bX)==="[object Function]"};Z.isArray=function(bX){return w.call(bX)==="[object Array]"};Z.isPlainObject=function(bY){if(!bY||w.call(bY)!=="[object Object]"||bY.nodeType||bY.setInterval){return false}if(bY.constructor&&!aa.call(bY,"constructor")&&!aa.call(bY.constructor.prototype,"isPrototypeOf")){return false}var bX;for(bX in bY){}return bX===undefined||aa.call(bY,bX)};Z.merge=function(b1,bZ){var b0=b1.length,bY=0;if(typeof bZ.length==="number"){for(var bX=bZ.length;bY<bX;bY++){b1[b0++]=bZ[bY]}}else{while(bZ[bY]!==undefined){b1[b0++]=bZ[bY++]}}b1.length=b0;return b1};Z.param=function(bY){var bX="";if(bY){Z.each(bY,function(b0,bZ){bX+=(bX.length!=0?"&":"")+bZ+"="+encodeURIComponent(b0)})}return bX};Z.evalScripts=function(bX){var bZ=o.getElementsByTagName("head")[0]||o.documentElement;for(var b0=0;b0<bX.length;b0++){var bY=o.createElement("script");bY.type="text/javascript";if(W){bY.appendChild(o.createTextNode(bX[b0].text))}else{bY.text=bX[b0].text}bZ.insertBefore(bY,bZ.firstChild);bZ.removeChild(bY)}};Z.ready=function(){Y=true;while(ao.length>0){var bX=ao.shift();bX()}};var a9="jQuery"+bd(),d=0,a4={};Z.noData={embed:true,object:true,applet:true};Z.cache={};Z.data=function(bY,bX,bZ){if(bY.nodeName&&bF.noData[bY.nodeName.toLowerCase()]){return}bY=bY==window?a4:bY;var b0=bY[a9];if(!b0){b0=bY[a9]=++d}if(bX&&!bF.cache[b0]){bF.cache[b0]={}}if(bZ!==undefined){bF.cache[b0][bX]=bZ}return bX?bF.cache[b0][bX]:b0};Z.removeData=function(bY,bX){bY=bY==window?a4:bY;var b0=bY[a9];if(bX){if(bF.cache[b0]){delete bF.cache[b0][bX];bX="";for(bX in bF.cache[b0]){break}if(!bX){bF.removeData(bY)}}}else{try{delete bY[a9]}catch(bZ){if(bY.removeAttribute){bY.removeAttribute(a9)}}delete bF.cache[b0]}};Z.ajax={status:-1,statusText:"",responseText:null,responseXML:null,send:function(bX,b1,b2){if(Z.isFunction(b1)){b2=b1;b1={}}if(!bX){return}var b0=true,bZ=null,b4=null;if(typeof b1.async!=="undefined"){b0=b1.async;delete b1.async}if(typeof b1.username!=="undefined"){bZ=b1.username;delete b1.username}if(typeof b1.password!=="undefined"){b4=b1.password;delete b1.password}var bY=Z.param(b1);if(bY.length!=0){bX+=(bX.indexOf("?")==-1?"?":"&")+bY}var b5=new XMLHttpRequest();b5.open("GET",bX,b0,bZ,b4);b5.send();if(b0){var b6=function(b8){var b7=arguments.callee;if(b8.status==200){Z.ajax.complete(b8,b7.cb)}else{Z.ajax.error(b8,b7.cb)}};b6.cb=b2;var b3=function(){var b7=arguments.callee;if(b7.req.readyState!=4){setTimeout(b7,250)}else{b7.xcb(b7.req)}};b3.req=b5;b3.xcb=b6;setTimeout(b3,250)}else{}},complete:function(bX,bY){Z.ajax.status=bX.status;Z.ajax.responseText=bX.responseText;Z.ajax.responseXML=bX.responseXML;if(Z.isFunction(bY)){bY(bX.responseText,bX.status)}},error:function(bX,bY){Z.ajax.status=bX.status;Z.ajax.statusText=bX.statusText;if(Z.isFunction(bY)){bY(bX.status,bX.statusText)}}};Z.makeArray=function(bZ,bY){var bX=bY||[];if(bZ!=null){if(bZ.length==null||typeof bZ==="string"||bF.isFunction(bZ)||(typeof bZ!=="function"&&bZ.setInterval)){v.call(bX,bZ)}else{Z.merge(bX,bZ)}}return bX};Z.inArray=function(bZ,bX){for(var bY=0;bY<bX.length;bY++){if(bX[bY]===bZ){return bY}}return -1};Z.trim=function(bX){if(bX!=null){return bX.toString().replace(/^\s*|\s*$/g,"")}else{return""}};var ac=function(){};ac.prototype={selector:"",context:null,length:0,jquery:"jqlite-1.1.1",init:function(b5,b2){if(!b5){return this}if(b5.nodeType){this.context=this[0]=b5;this.length=1}else{if(typeof b5==="function"){this.ready(b5)}else{var bZ=[];if(b5.jquery&&typeof b5.jquery==="string"){bZ=b5.toArray()}else{if(Z.isArray(b5)){bZ=b5}else{if(typeof b5==="string"&&Z.trim(b5).indexOf("<")==0&&Z.trim(b5).indexOf(">")!=-1){var b3=t(b5);var b0=o.createElement(b3);b0.innerHTML=b5;bZ=[b0.removeChild(b0.firstChild)];b0=null}else{var b4;if(b5.indexOf(",")!=-1){b4=b5.split(",");for(var bX=0;bX<b4.length;bX++){b4[bX]=Z.trim(b4[bX])}}else{b4=[b5]}var b1=[];for(var bY=0;bY<b4.length;bY++){b1=b1.concat(bA(b4[bY],b2))}bZ=b1}}}v.apply(this,bZ)}}return this},each:function(bX){return Z.each(this,bX)},size:function(){return this.length},toArray:function(){return N.call(this,0)},ready:function(bX){if(Y){bX()}else{ao.push(bX);return this}},data:function(bX,bY){if(typeof bX==="undefined"&&this.length){return bF.data(this[0])}else{if(typeof bX==="object"){return this.each(function(){bF.data(this,bX)})}}var bZ=bX.split(".");bZ[1]=bZ[1]?"."+bZ[1]:"";if(bY===undefined){if(data===undefined&&this.length){data=bF.data(this[0],bX)}return data===undefined&&bZ[1]?this.data(bZ[0]):data}else{return this.each(function(){bF.data(this,bX,bY)})}},removeData:function(bX){return this.each(function(){bF.removeData(this,bX)})},addClass:function(bX){return this.each(function(){if(this.className.length!=0){var bY=this.className.split(" ");if(Z.inArray(bX,bY)==-1){bY.push(bX);this.className=bY.join(" ")}}else{this.className=bX}})},removeClass:function(bX){return this.each(function(){if(this.className.length!=0){var bZ=this.className.split(" ");var bY=Z.inArray(bX,bZ);if(bY!=-1){bZ.splice(bY,1);this.className=bZ.join(" ")}}})},hasClass:function(bX){if(this[0].className.length==0){return false}return Z.inArray(bX,this[0].className.split(" "))!=-1},isElementName:function(bX){return(this[0].nodeName.toLowerCase()===bX.toLowerCase())},toggleClass:function(bX){return this.each(function(){if(this.className.length==0){this.className=bX}else{var bZ=this.className.split(" ");var bY=Z.inArray(bX,bZ);if(bY!=-1){bZ.splice(bY,1)}else{bZ.push(bX)}this.className=bZ.join(" ")}})},hide:function(bX){return this.each(function(){if(this.style&&this.style.display!=null){if(this.style.display.toString()!="none"){this._oldDisplay=this.style.display.toString()||(this.nodeName!="span"?"block":"inline");this.style.display="none"}}if(Z.isFunction(bX)){bX(this)}})},show:function(bX){return this.each(function(){this.style.display=((this._oldDisplay&&this._oldDisplay!=""?this._oldDisplay:null)||(this.nodeName!="span"?"block":"inline"));if(Z.isFunction(bX)){bX(this)}})},css:function(bX,bY){if(typeof bX==="string"&&bY==null){return this[0].style[g(bX)]}else{bX=typeof bX==="string"?by(bX,bY):bX;return this.each(function(){var bZ=this;if(typeof bZ.style!="undefined"){Z.each(bX,function(b0,b1){b1=(typeof b1==="number"?b1+"px":b1);var b2=g(b0);if(!bZ.style[b2]){b2=b0}bZ.style[b2]=b1})}})}},load:function(bX,bZ,bY){if(Z.isFunction(bZ)){bY=bZ;bZ={}}return this.each(function(){var b0=function(b3,b1){var b2=arguments.callee;if(b3){var b4=av(b3);b2.elem.innerHTML=b4.data;Z.evalScripts(b4.scripts)}if(Z.isFunction(b2.cback)){b2.cback(b3,b1)}};b0.cback=bY;b0.elem=this;Z.ajax.send(bX,bZ,b0)})},html:function(bX){if(!bX){return this[0].innerHTML}else{return this.each(function(){var bY=av(bX);this.innerHTML=bY.data;Z.evalScripts(bY.scripts)})}},attr:function(bX,bY){if(typeof bX==="string"&&bY==null){if(this[0]){return this[0].getAttribute(bX)}else{return""}}else{return this.each(function(){bX=typeof bX==="string"?by(bX,bY):bX;for(var b0 in bX){var bZ=bX[b0];this.setAttribute(b0,bZ)}})}},eq:function(bX){var bY=this.toArray();var bZ=bX<0?bY[bY.length+bX]:bY[bX];this.context=this[0]=bZ;this.length=1;return this},first:function(){var bX=this.toArray();this.context=this[0]=bX[0];this.length=1;return this},last:function(){var bX=this.toArray();this.context=this[0]=bX[bX.length-1];this.length=1;return this},index:function(bZ){var bY=-1;if(this.length!=0){var b3=this[0];if(!bZ){var b1=this.parent();var b0=b1[0].firstChild;var bX=[];while(b0!=null){if(b0.nodeType===be){bX.push(b0)}b0=b0.nextSibling}Z.each(b0,function(b4){if(this===b3){bY=b4;return false}})}else{var b2=Z(bZ)[0];this.each(function(b4){if(this===b2){bY=b4;return false}})}}return bY},next:function(bZ){var bY=[];if(!bZ){this.each(function(){var b0=this.nextSibling;while(b0!=null&&b0.nodeType!==be){b0=b0.nextSibling}if(b0!=null){bY.push(b0)}})}else{var bX=Z(bZ);this.each(function(){var b1=this.nextSibling;while(b1!=null&&b1.nodeType!==be){b1=b1.nextSibling}if(b1!=null){var b0=false;bX.each(function(){if(this==b1){b0=true;return false}});if(b0){bY.push(b1)}}})}return Z(bY)},prev:function(bZ){var bY=[];if(!bZ){this.each(function(){var b0=this.previousSibling;while(b0!=null&&b0.nodeType!==be){b0=b0.previousSibling}if(b0!=null){bY.push(b0)}})}else{var bX=Z(bZ);this.each(function(){var b1=this.previousSibling;while(b1!=null&&b1.nodeType!==be){b1=b1.previousSibling}if(b1!=null){var b0=false;bX.each(function(){if(this==b1){b0=true;return false}});if(b0){bY.push(b1)}}})}return Z(bY)},parent:function(bZ){var bY=[];if(!bZ){this.each(function(){bY.push(this.parentNode)})}else{var bX=Z(bZ);this.each(function(){var b1=this.parentNode;var b0=false;bX.each(function(){if(this==b1){b0=true;return false}});if(b0){bY.push(b1)}})}return Z(bY)},parents:function(bZ){var bY=[];if(!bZ){this.each(function(){var b0=this;while(b0!=o.body){b0=b0.parentNode;bY.push(b0)}})}else{var bX=Z(bZ);this.each(function(){var b0=this;while(b0!=o.body){bX.each(function(){if(this==b0){bY.push(b0)}});b0=b0.parentNode}})}return Z(bY)},children:function(bY){var bX=[];if(!bY){this.each(function(){var b0=this.firstChild;while(b0!=null){if(b0.nodeType==be){bX.push(b0)}b0=b0.nextSibling}})}else{var bZ=Z(bY);this.each(function(){var b0=this.firstChild;while(b0!=null){if(b0.nodeType==be){bZ.each(function(){if(this===b0){bX.push(b0)}})}b0=b0.nextSibling}})}return Z(bX)},append:function(bX){bX=bO(bX);return this.each(function(){for(var bY=0;bY<bX.length;bY++){this.appendChild(bX[bY])}})},remove:function(bX){return this.each(function(){if(bX){$(bX,this).remove()}else{var bY=this.parentNode;bY.removeChild(this)}})},empty:function(){return this.each(function(){this.innerHTML=""})},val:function(bY){if(bY==null){var bX=null;if(this&&this.length!=0&&typeof this[0].value!="undefined"){bX=this[0].value}return bX}else{return this.each(function(){if(typeof this.value!="undefined"){this.value=bY}})}},bind:function(bX,bY){return this.each(function(){bx(this,bX,bY)})},unbind:function(bX){return this.each(function(){aI(this,bX)})},trigger:function(bX,bY){return this.each(function(){return bu(this,bX,bY)})},submit:function(bX){return this.each(function(){if(Z.isFunction(bX)){bx(this,"onsubmit",bX)}else{if(this.submit){this.submit()}}})}};if(o.addEventListener){aY=function(){o.removeEventListener("DOMContentLoaded",aY,false);Z.ready()}}else{if(o.attachEvent){aY=function(){if(o.readyState==="complete"){o.detachEvent("onreadystatechange",aY);Z.ready()}}}}if(!I){I=true;if(o.readyState==="complete"){return Z.ready()}if(o.addEventListener){o.addEventListener("DOMContentLoaded",aY,false);window.addEventListener("load",Z.ready,false)}else{if(o.attachEvent){o.attachEvent("onreadystatechange",aY);window.attachEvent("onload",Z.ready)}}}var by=function(bX,bZ){var bY={};bY[bX]=bZ;return bY};var bO=function(bX){if(bX.nodeType&&(bX.nodeType===be||bX.nodeType===b)){bX=[bX]}else{if(typeof bX==="string"){bX=Z(bX).toArray()}else{if(bX.jquery&&typeof bX.jquery==="string"){bX=bX.toArray()}}}return bX};var t=function(bY){var bX=Z.trim(bY).toLowerCase();return bX.indexOf("<option")==0?"SELECT":bX.indexOf("<li")==0?"UL":bX.indexOf("<tr")==0?"TBODY":bX.indexOf("<td")==0?"TR":"DIV"};if(typeof window.jQuery=="undefined"){bF=Z;bF.fn=ac.prototype}bF.extend=bF.fn.extend=function(){var b2=arguments[0]||{},b1=1,b0=arguments.length,b4=false,b5,bZ,bX,bY;if(typeof b2==="boolean"){b4=b2;b2=arguments[1]||{};b1=2}if(typeof b2!=="object"&&!bF.isFunction(b2)){b2={}}if(b0===b1){b2=this;--b1}for(;b1<b0;b1++){if((b5=arguments[b1])!=null){for(bZ in b5){bX=b2[bZ];bY=b5[bZ];if(b2===bY){continue}if(b4&&bY&&(bF.isPlainObject(bY)||bF.isArray(bY))){var b3=bX&&(bF.isPlainObject(bX)||bF.isArray(bX))?bX:bF.isArray(bY)?[]:{};b2[bZ]=bF.extend(b4,b3,bY)}else{if(bY!==undefined){b2[bZ]=bY}}}}}return b2};bF.each("click,dblclick,mouseover,mouseout,mousedown,mouseup,keydown,keypress,keyup,focus,blur,change,select,error,load,unload,scroll,resize,touchstart,touchend,touchmove".split(","),function(bY,bX){bF.fn[bX]=function(bZ){return(bZ?this.bind(bX,bZ):this.trigger(bX))}});bp.scale={};function T(bY){var bZ=bY[0],bX=bY[bY.length-1];return bZ<bX?[bZ,bX]:[bX,bZ]}function bo(bX){return bX.rangeExtent?bX.rangeExtent():T(bX.range())}bp.range=function(b3,b1,b2){if(arguments.length<3){b2=1;if(arguments.length<2){b1=b3;b3=0}}if((b1-b3)/b2===Infinity){throw new Error("infinite range")}var bY=[],bX=bi(Math.abs(b2)),b0=-1,bZ;b3*=bX,b1*=bX,b2*=bX;if(b2<0){while((bZ=b3+b2*++b0)>b1){bY.push(bZ/bX)}}else{while((bZ=b3+b2*++b0)<b1){bY.push(bZ/bX)}}return bY};function bi(bX){var bY=1;while(bX*bY%1){bY*=10}return bY}bp.rebind=function(bZ,bY){var bX=1,b1=arguments.length,b0;while(++bX<b1){bZ[b0=arguments[bX]]=P(bZ,bY,bY[b0])}return bZ};function P(bY,bX,bZ){return function(){var b0=bZ.apply(bX,arguments);return b0===bX?bY:b0}}function ah(){}ah.prototype.toString=function(){return this.rgb()+""};function bK(bZ,bY){try{for(var bX in bY){Object.defineProperty(bZ.prototype,bX,{value:bY[bX],enumerable:false})}}catch(b0){bZ.prototype=bY}}bp.map=function(bX){var bZ=new a0;for(var bY in bX){bZ.set(bY,bX[bY])}return bZ};function a0(){}bK(a0,{has:function(bX){return bI+bX in this},get:function(bX){return this[bI+bX]},set:function(bX,bY){return this[bI+bX]=bY},remove:function(bX){bX=bI+bX;return bX in this&&delete this[bX]},keys:function(){var bX=[];this.forEach(function(bY){bX.push(bY)});return bX},values:function(){var bX=[];this.forEach(function(bY,bZ){bX.push(bZ)});return bX},entries:function(){var bX=[];this.forEach(function(bY,bZ){bX.push({key:bY,value:bZ})});return bX},forEach:function(bY){for(var bX in this){if(bX.charCodeAt(0)===ak){bY.call(this,bX.substring(1),this[bX])}}}});var bI="\0",ak=bI.charCodeAt(0);bp.hsl=function(bZ,bY,bX){return arguments.length===1?(bZ instanceof bf?az(bZ.h,bZ.s,bZ.l):U(""+bZ,aP,az)):az(+bZ,+bY,+bX)};function az(bZ,bY,bX){return new bf(bZ,bY,bX)}function bf(bZ,bY,bX){this.h=bZ;this.s=bY;this.l=bX}var bU=bf.prototype=new ah;bU.brighter=function(bX){bX=Math.pow(0.7,arguments.length?bX:1);return az(this.h,this.s,this.l/bX)};bU.darker=function(bX){bX=Math.pow(0.7,arguments.length?bX:1);return az(this.h,this.s,bX*this.l)};bU.rgb=function(){return bJ(this.h,this.s,this.l)};function bJ(b2,b1,bX){var b0,bZ;b2=isNaN(b2)?0:(b2%=360)<0?b2+360:b2;b1=isNaN(b1)?0:b1<0?0:b1>1?1:b1;bX=bX<0?0:bX>1?1:bX;bZ=bX<=0.5?bX*(1+b1):bX+b1-bX*b1;b0=2*bX-bZ;function bY(b4){if(b4>360){b4-=360}else{if(b4<0){b4+=360}}if(b4<60){return b0+(bZ-b0)*b4/60}if(b4<180){return bZ}if(b4<240){return b0+(bZ-b0)*(240-b4)/60}return b0}function b3(b4){return Math.round(bY(b4)*255)}return al(b3(b2+120),b3(b2),b3(b2-120))}var aN=Math.PI,aT=0.000001,h=aT*aT,aQ=aN/180,a8=180/aN;function bv(bX){return bX>0?1:bX<0?-1:0}function aw(bX){return bX>1?0:bX<-1?aN:Math.acos(bX)}function bl(bX){return bX>1?aN/2:bX<-1?-aN/2:Math.asin(bX)}function ar(bX){return(Math.exp(bX)-Math.exp(-bX))/2}function aD(bX){return(Math.exp(bX)+Math.exp(-bX))/2}function A(bX){return(bX=Math.sin(bX/2))*bX}bp.hcl=function(bY,bZ,bX){return arguments.length===1?(bY instanceof c?bg(bY.h,bY.c,bY.l):(bY instanceof C?aC(bY.l,bY.a,bY.b):aC((bY=bR((bY=bp.rgb(bY)).r,bY.g,bY.b)).l,bY.a,bY.b))):bg(+bY,+bZ,+bX)};function bg(bY,bZ,bX){return new c(bY,bZ,bX)}function c(bY,bZ,bX){this.h=bY;this.c=bZ;this.l=bX}var bn=c.prototype=new ah;bn.brighter=function(bX){return bg(this.h,this.c,Math.min(100,this.l+K*(arguments.length?bX:1)))};bn.darker=function(bX){return bg(this.h,this.c,Math.max(0,this.l-K*(arguments.length?bX:1)))};bn.rgb=function(){return ai(this.h,this.c,this.l).rgb()};function ai(bY,bZ,bX){if(isNaN(bY)){bY=0}if(isNaN(bZ)){bZ=0}return bG(bX,Math.cos(bY*=aQ)*bZ,Math.sin(bY)*bZ)}bp.lab=function(bZ,bY,bX){return arguments.length===1?(bZ instanceof C?bG(bZ.l,bZ.a,bZ.b):(bZ instanceof c?ai(bZ.l,bZ.c,bZ.h):bR((bZ=bp.rgb(bZ)).r,bZ.g,bZ.b))):bG(+bZ,+bY,+bX)};function bG(bZ,bY,bX){return new C(bZ,bY,bX)}function C(bZ,bY,bX){this.l=bZ;this.a=bY;this.b=bX}var K=18;var G=0.95047,F=1,E=1.08883;var J=C.prototype=new ah;J.brighter=function(bX){return bG(Math.min(100,this.l+K*(arguments.length?bX:1)),this.a,this.b)};J.darker=function(bX){return bG(Math.max(0,this.l-K*(arguments.length?bX:1)),this.a,this.b)};J.rgb=function(){return f(this.l,this.a,this.b)};function f(b0,bZ,bY){var b2=(b0+16)/116,bX=b2+bZ/500,b1=b2-bY/200;bX=aJ(bX)*G;b2=aJ(b2)*F;b1=aJ(b1)*E;return al(u(3.2404542*bX-1.5371385*b2-0.4985314*b1),u(-0.969266*bX+1.8760108*b2+0.041556*b1),u(0.0556434*bX-0.2040259*b2+1.0572252*b1))}function aC(bZ,bY,bX){return bZ>0?bg(Math.atan2(bX,bY)*a8,Math.sqrt(bY*bY+bX*bX),bZ):bg(NaN,NaN,bZ)}function aJ(bX){return bX>0.206893034?bX*bX*bX:(bX-4/29)/7.787037}function a6(bX){return bX>0.008856?Math.pow(bX,1/3):7.787037*bX+4/29}function u(bX){return Math.round(255*(bX<=0.00304?12.92*bX:1.055*Math.pow(bX,1/2.4)-0.055))}bp.rgb=function(bZ,bY,bX){return arguments.length===1?(bZ instanceof a1?al(bZ.r,bZ.g,bZ.b):U(""+bZ,al,bJ)):al(~~bZ,~~bY,~~bX)};function al(bZ,bY,bX){return new a1(bZ,bY,bX)}function a1(bZ,bY,bX){this.r=bZ;this.g=bY;this.b=bX}var l=a1.prototype=new ah;l.brighter=function(bY){bY=Math.pow(0.7,arguments.length?bY:1);var b1=this.r,b0=this.g,bX=this.b,bZ=30;if(!b1&&!b0&&!bX){return al(bZ,bZ,bZ)}if(b1&&b1<bZ){b1=bZ}if(b0&&b0<bZ){b0=bZ}if(bX&&bX<bZ){bX=bZ}return al(Math.min(255,Math.floor(b1/bY)),Math.min(255,Math.floor(b0/bY)),Math.min(255,Math.floor(bX/bY)))};l.darker=function(bX){bX=Math.pow(0.7,arguments.length?bX:1);return al(Math.floor(bX*this.r),Math.floor(bX*this.g),Math.floor(bX*this.b))};l.hsl=function(){return aP(this.r,this.g,this.b)};l.toString=function(){return"#"+aZ(this.r)+aZ(this.g)+aZ(this.b)};function aZ(bX){return bX<16?"0"+Math.max(0,bX).toString(16):Math.min(255,bX).toString(16)}function U(b2,b0,b3){var bX=0,bZ=0,b1=0,b5,b4,bY;b5=/([a-z]+)\((.*)\)/i.exec(b2);if(b5){b4=b5[2].split(",");switch(b5[1]){case"hsl":return b3(parseFloat(b4[0]),parseFloat(b4[1])/100,parseFloat(b4[2])/100);case"rgb":return b0(ap(b4[0]),ap(b4[1]),ap(b4[2]))}}if(bY=aG.get(b2)){return b0(bY.r,bY.g,bY.b)}if(b2!=null&&b2.charAt(0)==="#"){if(b2.length===4){bX=b2.charAt(1);bX+=bX;bZ=b2.charAt(2);bZ+=bZ;b1=b2.charAt(3);b1+=b1}else{if(b2.length===7){bX=b2.substring(1,3);bZ=b2.substring(3,5);b1=b2.substring(5,7)}}bX=parseInt(bX,16);bZ=parseInt(bZ,16);b1=parseInt(b1,16)}return b0(bX,bZ,b1)}function aP(bX,b1,b3){var bZ=Math.min(bX/=255,b1/=255,b3/=255),b4=Math.max(bX,b1,b3),b2=b4-bZ,b0,b5,bY=(b4+bZ)/2;if(b2){b5=bY<0.5?b2/(b4+bZ):b2/(2-b4-bZ);if(bX==b4){b0=(b1-b3)/b2+(b1<b3?6:0)}else{if(b1==b4){b0=(b3-bX)/b2+2}else{b0=(bX-b1)/b2+4}}b0*=60}else{b0=NaN;b5=bY>0&&bY<1?0:b0}return az(b0,b5,bY)}function bR(b0,bZ,bY){b0=bB(b0);bZ=bB(bZ);bY=bB(bY);var bX=a6((0.4124564*b0+0.3575761*bZ+0.1804375*bY)/G),b2=a6((0.2126729*b0+0.7151522*bZ+0.072175*bY)/F),b1=a6((0.0193339*b0+0.119192*bZ+0.9503041*bY)/E);return bG(116*b2-16,500*(bX-b2),200*(b2-b1))}function bB(bX){return(bX/=255)<=0.04045?bX/12.92:Math.pow((bX+0.055)/1.055,2.4)}function ap(bY){var bX=parseFloat(bY);return bY.charAt(bY.length-1)==="%"?Math.round(bX*2.55):bX}var aG=bp.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});aG.forEach(function(bX,bY){aG.set(bX,U(bY,al,bJ))});bp.interpolateRgb=e;function e(bY,bX){bY=bp.rgb(bY);bX=bp.rgb(bX);var b0=bY.r,bZ=bY.g,b3=bY.b,b2=bX.r-b0,b1=bX.g-bZ,b4=bX.b-b3;return function(b5){return"#"+aZ(Math.round(b0+b2*b5))+aZ(Math.round(bZ+b1*b5))+aZ(Math.round(b3+b4*b5))}}var bw=o,bV=bw.documentElement,aA=window;var bH={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};bp.ns={prefix:bH,qualify:function(bX){var bY=bX.indexOf(":"),bZ=bX;if(bY>=0){bZ=bX.substring(0,bY);bX=bX.substring(bY+1)}return bH.hasOwnProperty(bZ)?{space:bH[bZ],local:bX}:bX}};bp.transform=function(bX){var bY=bw.createElementNS(bp.ns.prefix.svg,"g");return(bp.transform=function(bZ){if(bZ!=null){bY.setAttribute("transform",bZ);var b0=bY.transform.baseVal.consolidate()}return new bL(b0?b0.matrix:bQ)})(bX)};function bL(bX){var b0=[bX.a,bX.b],bY=[bX.c,bX.d],b2=ay(b0),bZ=S(b0,bY),b1=ay(a5(bY,b0,-bZ))||0;if(b0[0]*bY[1]<bY[0]*b0[1]){b0[0]*=-1;b0[1]*=-1;b2*=-1;bZ*=-1}this.rotate=(b2?Math.atan2(b0[1],b0[0]):Math.atan2(-bY[0],bY[1]))*a8;this.translate=[bX.e,bX.f];this.scale=[b2,b1];this.skew=b1?Math.atan2(bZ,b1)*a8:0}bL.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function S(bY,bX){return bY[0]*bX[0]+bY[1]*bX[1]}function ay(bX){var bY=Math.sqrt(S(bX,bX));if(bY){bX[0]/=bY;bX[1]/=bY}return bY}function a5(bY,bX,bZ){bY[0]+=bZ*bX[0];bY[1]+=bZ*bX[1];return bY}var bQ={a:1,b:0,c:0,d:1,e:0,f:0};bp.interpolateNumber=am;function am(bY,bX){bX-=bY=+bY;return function(bZ){return bY+bX*bZ}}bp.interpolateTransform=aj;function aj(ca,b9){var cb=[],bY=[],b2,b1=bp.transform(ca),b0=bp.transform(b9),b6=b1.translate,b5=b0.translate,bZ=b1.rotate,bX=b0.rotate,b4=b1.skew,b3=b0.skew,b8=b1.scale,b7=b0.scale;if(b6[0]!=b5[0]||b6[1]!=b5[1]){cb.push("translate(",null,",",null,")");bY.push({i:1,x:am(b6[0],b5[0])},{i:3,x:am(b6[1],b5[1])})}else{if(b5[0]||b5[1]){cb.push("translate("+b5+")")}else{cb.push("")}}if(bZ!=bX){if(bZ-bX>180){bX+=360}else{if(bX-bZ>180){bZ+=360}}bY.push({i:cb.push(cb.pop()+"rotate(",null,")")-2,x:am(bZ,bX)})}else{if(bX){cb.push(cb.pop()+"rotate("+bX+")")}}if(b4!=b3){bY.push({i:cb.push(cb.pop()+"skewX(",null,")")-2,x:am(b4,b3)})}else{if(b3){cb.push(cb.pop()+"skewX("+b3+")")}}if(b8[0]!=b7[0]||b8[1]!=b7[1]){b2=cb.push(cb.pop()+"scale(",null,",",null,")");bY.push({i:b2-4,x:am(b8[0],b7[0])},{i:b2-2,x:am(b8[1],b7[1])})}else{if(b7[0]!=1||b7[1]!=1){cb.push(cb.pop()+"scale("+b7+")")}}b2=bY.length;return function(cd){var cc=-1,ce;while(++cc<b2){cb[(ce=bY[cc]).i]=ce.x(cd)}return cb.join("")}}bp.interpolateObject=bM;function bM(bY,bX){var b0={},b1={},bZ;for(bZ in bY){if(bZ in bX){b0[bZ]=ab(bZ)(bY[bZ],bX[bZ])}else{b1[bZ]=bY[bZ]}}for(bZ in bX){if(!(bZ in bY)){b1[bZ]=bX[bZ]}}return function(b2){for(bZ in b0){b1[bZ]=b0[bZ](b2)}return b1}}bp.interpolateArray=aB;function aB(b1,bZ){var bY=[],b4=[],b0=b1.length,bX=bZ.length,b3=Math.min(b1.length,bZ.length),b2;for(b2=0;b2<b3;++b2){bY.push(br(b1[b2],bZ[b2]))}for(;b2<b0;++b2){b4[b2]=b1[b2]}for(;b2<bX;++b2){b4[b2]=bZ[b2]}return function(b5){for(b2=0;b2<b3;++b2){b4[b2]=bY[b2](b5)}return b4}}bp.interpolateString=bh;function bh(b4,b3){var b0,b2,b1,b6=0,b5=0,b7=[],bX=[],bZ,bY;b4=b4+"",b3=b3+"";i.lastIndex=0;for(b2=0;b0=i.exec(b3);++b2){if(b0.index){b7.push(b3.substring(b6,b5=b0.index))}bX.push({i:b7.length,x:b0[0]});b7.push(null);b6=i.lastIndex}if(b6<b3.length){b7.push(b3.substring(b6))}for(b2=0,bZ=bX.length;(b0=i.exec(b4))&&b2<bZ;++b2){bY=bX[b2];if(bY.x==b0[0]){if(bY.i){if(b7[bY.i+1]==null){b7[bY.i-1]+=bY.x;b7.splice(bY.i,1);for(b1=b2+1;b1<bZ;++b1){bX[b1].i--}}else{b7[bY.i-1]+=bY.x+b7[bY.i+1];b7.splice(bY.i,2);for(b1=b2+1;b1<bZ;++b1){bX[b1].i-=2}}}else{if(b7[bY.i+1]==null){b7[bY.i]=bY.x}else{b7[bY.i]=bY.x+b7[bY.i+1];b7.splice(bY.i+1,1);for(b1=b2+1;b1<bZ;++b1){bX[b1].i--}}}bX.splice(b2,1);bZ--;b2--}else{bY.x=am(parseFloat(b0[0]),parseFloat(bY.x))}}while(b2<bZ){bY=bX.pop();if(b7[bY.i+1]==null){b7[bY.i]=bY.x}else{b7[bY.i]=bY.x+b7[bY.i+1];b7.splice(bY.i+1,1)}bZ--}if(b7.length===1){return b7[0]==null?(bY=bX[0].x,function(b8){return bY(b8)+""}):function(){return b3}}return function(b8){for(b2=0;b2<bZ;++b2){b7[(bY=bX[b2]).i]=bY.x(b8)}return b7.join("")}}var i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;bp.interpolate=br;function br(bY,bX){var bZ=bp.interpolators.length,b0;while(--bZ>=0&&!(b0=bp.interpolators[bZ](bY,bX))){}return b0}function ab(bX){return bX=="transform"?aj:br}bp.interpolators=[function(bY,bX){var bZ=typeof bX;return(bZ==="string"?(aG.has(bX)||/^(#|rgb\(|hsl\()/.test(bX)?e:bh):bX instanceof ah?e:bZ==="object"?(Array.isArray(bX)?aB:bM):am)(bY,bX)}];bp.interpolateRound=aH;function aH(bY,bX){bX-=bY;return function(bZ){return Math.round(bY+bX*bZ)}}function H(bY,bX){bX=bX-(bY=+bY)?1/(bX-bY):0;return function(bZ){return(bZ-bY)*bX}}function X(bY,bX){bX=bX-(bY=+bY)?1/(bX-bY):0;return function(bZ){return Math.max(0,Math.min(1,(bZ-bY)*bX))}}function m(bX){return bX}var aW=".",bj=",",a2=[3,3];var a7=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(aS);bp.formatPrefix=function(bZ,bX){var bY=0;if(bZ){if(bZ<0){bZ*=-1}if(bX){bZ=bp.round(bZ,bc(bZ,bX))}bY=1+Math.floor(1e-12+Math.log(bZ)/Math.LN10);bY=Math.max(-24,Math.min(24,Math.floor((bY<=0?bY+1:bY-1)/3)*3))}return a7[8+bY/3]};function aS(bZ,bY){var bX=Math.pow(10,Math.abs(8-bY)*3);return{scale:bY>8?function(b0){return b0/bX}:function(b0){return b0*bX},symbol:bZ}}bp.round=function(bX,bY){return bY?Math.round(bX*(bY=Math.pow(10,bY)))/bY:Math.round(bX)};bp.format=function(b8){var b5=x.exec(b8),ca=b5[1]||" ",b6=b5[2]||">",bZ=b5[3]||"",bX=b5[4]||"",b1=b5[5],bY=+b5[6],cb=b5[7],b4=b5[8],b7=b5[9],b0=1,b9="",b3=false;if(b4){b4=+b4.substring(1)}if(b1||ca==="0"&&b6==="="){b1=ca="0";b6="=";if(cb){bY-=Math.floor((bY-1)/4)}}switch(b7){case"n":cb=true;b7="g";break;case"%":b0=100;b9="%";b7="f";break;case"p":b0=100;b9="%";b7="r";break;case"b":case"o":case"x":case"X":if(bX){bX="0"+b7.toLowerCase()}case"c":case"d":b3=true;b4=0;break;case"s":b0=-1;b7="r";break}if(bX==="#"){bX=""}if(b7=="r"&&!b4){b7="g"}if(b4!=null){if(b7=="g"){b4=Math.max(1,Math.min(21,b4))}else{if(b7=="e"||b7=="f"){b4=Math.max(0,Math.min(20,b4))}}}b7=ax.get(b7)||bz;var b2=b1&&cb;return function(cf){if(b3&&(cf%1)){return""}var cc=cf<0||cf===0&&1/cf<0?(cf=-cf,"-"):bZ;if(b0<0){var ce=bp.formatPrefix(cf,b4);cf=ce.scale(cf);b9=ce.symbol}else{cf*=b0}cf=b7(cf,b4);if(!b1&&cb){cf=bq(cf)}var cd=bX.length+cf.length+(b2?0:cc.length),cg=cd<bY?new Array(cd=bY-cd+1).join(ca):"";if(b2){cf=bq(cg+cf)}if(aW){cf.replace(".",aW)}cc+=bX;return(b6==="<"?cc+cf+cg:b6===">"?cg+cc+cf:b6==="^"?cg.substring(0,cd>>=1)+cc+cf+cg.substring(cd):cc+(b2?cf:cg+cf))+b9}};var x=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var ax=bp.map({b:function(bX){return bX.toString(2)},c:function(bX){return String.fromCharCode(bX)},o:function(bX){return bX.toString(8)},x:function(bX){return bX.toString(16)},X:function(bX){return bX.toString(16).toUpperCase()},g:function(bX,bY){return bX.toPrecision(bY)},e:function(bX,bY){return bX.toExponential(bY)},f:function(bX,bY){return bX.toFixed(bY)},r:function(bX,bY){return(bX=bp.round(bX,bc(bX,bY))).toFixed(Math.max(0,Math.min(20,bc(bX*(1+1e-15),bY))))}});function bc(bX,bY){return bY-(bX?Math.ceil(Math.log(bX)/Math.LN10):1)}function bz(bX){return bX+""}var bq=m;if(a2){var B=a2.length;bq=function(b2){var bZ=b2.lastIndexOf("."),b1=bZ>=0?"."+b2.substring(bZ+1):(bZ=b2.length,""),bY=[],bX=0,b0=a2[0];while(bZ>0&&b0>0){bY.push(b2.substring(bZ-=b0,bZ+b0));b0=a2[bX=(bX+1)%B]}return bY.reverse().join(bj||"")+b1}}function bT(b1,bX,b2,bZ){var bY=b2(b1[0],b1[1]),b0=bZ(bX[0],bX[1]);return function(b3){return b0(bY(b3))}}function bt(b3,b1){var b2=0,b0=b3.length-1,bZ=b3[b2],bY=b3[b0],bX;if(bY<bZ){bX=b2,b2=b0,b0=bX;bX=bZ,bZ=bY,bY=bX}b3[b2]=b1.floor(bZ);b3[b0]=b1.ceil(bY);return b3}function aV(bX){return bX?{floor:function(bY){return Math.floor(bY/bX)*bX},ceil:function(bY){return Math.ceil(bY/bX)*bX}}:ag}var ag={floor:m,ceil:m};bp.bisector=function(bX){return{left:function(bZ,bY,b2,b1){if(arguments.length<3){b2=0}if(arguments.length<4){b1=bZ.length}while(b2<b1){var b0=b2+b1>>>1;if(bX.call(bZ,bZ[b0],b0)<bY){b2=b0+1}else{b1=b0}}return b2},right:function(bZ,bY,b2,b1){if(arguments.length<3){b2=0}if(arguments.length<4){b1=bZ.length}while(b2<b1){var b0=b2+b1>>>1;if(bY<bX.call(bZ,bZ[b0],b0)){b1=b0}else{b2=b0+1}}return b2}}};var r=bp.bisector(function(bX){return bX});bp.bisectLeft=r.left;bp.bisect=bp.bisectRight=r.right;function p(b3,bY,b4,b1){var b0=[],b2=[],bZ=0,bX=Math.min(b3.length,bY.length)-1;if(b3[bX]<b3[0]){b3=b3.slice().reverse();bY=bY.slice().reverse()}while(++bZ<=bX){b0.push(b4(b3[bZ-1],b3[bZ]));b2.push(b1(bY[bZ-1],bY[bZ]))}return function(b5){var b6=bp.bisect(b3,b5,1,bX)-1;return b2[b6](b0[b6](b5))}}bp.scale.linear=function(){return ae([0,1],[0,1],br,false)};function ae(b2,b0,b1,b4){var bZ,bY;function bX(){var b5=Math.min(b2.length,b0.length)>2?p:bT,b6=b4?X:H;bZ=b5(b2,b0,b6,b1);bY=b5(b0,b2,b6,br);return b3}function b3(b5){return bZ(b5)}b3.invert=function(b5){return bY(b5)};b3.domain=function(b5){if(!arguments.length){return b2}b2=b5.map(Number);return bX()};b3.range=function(b5){if(!arguments.length){return b0}b0=b5;return bX()};b3.rangeRound=function(b5){return b3.range(b5).interpolate(aH)};b3.clamp=function(b5){if(!arguments.length){return b4}b4=b5;return bX()};b3.interpolate=function(b5){if(!arguments.length){return b1}b1=b5;return bX()};b3.ticks=function(b5){return D(b2,b5)};b3.tickFormat=function(b5,b6){return a(b2,b5,b6)};b3.nice=function(b5){ad(b2,b5);return bX()};b3.copy=function(){return ae(b2,b0,b1,b4)};return bX()}function bs(bY,bX){return bp.rebind(bY,bX,"range","rangeRound","interpolate","clamp")}function ad(bY,bX){return bt(bY,aV(bX?L(bY,bX)[2]:bb(bY)))}function bb(bZ){var bY=T(bZ),bX=bY[1]-bY[0];return Math.pow(10,Math.round(Math.log(bX)/Math.LN10)-1)}function L(b2,bX){var bZ=T(b2),bY=bZ[1]-bZ[0],b1=Math.pow(10,Math.floor(Math.log(bY/bX)/Math.LN10)),b0=bX/bY*b1;if(b0<=0.15){b1*=10}else{if(b0<=0.35){b1*=5}else{if(b0<=0.75){b1*=2}}}bZ[0]=Math.ceil(bZ[0]/b1)*b1;bZ[1]=Math.floor(bZ[1]/b1)*b1+b1*0.5;bZ[2]=b1;return bZ}function D(bY,bX){return bp.range.apply(bp,L(bY,bX))}function a(bZ,bX,b0){var bY=-Math.floor(Math.log(L(bZ,bX)[2])/Math.LN10+0.01);return bp.format(b0?b0.replace(x,function(ca,b9,b8,b7,b6,b5,b4,b3,b2,b1){return[b9,b8,b7,b6,b5,b4,b3,b2||"."+(bY-(b1==="%")*2),b1].join("")}):",."+bY+"f")}bp.scale.log=function(){return bE(bp.scale.linear().domain([0,Math.LN10]),10,bN,aR,[1,10])};function bE(bX,b1,bY,bZ,b0){function b2(b3){return bX(bY(b3))}b2.invert=function(b3){return bZ(bX.invert(b3))};b2.domain=function(b3){if(!arguments.length){return b0}if(b3[0]<0){bY=bP,bZ=aU}else{bY=bN,bZ=aR}bX.domain((b0=b3.map(Number)).map(bY));return b2};b2.base=function(b3){if(!arguments.length){return b1}b1=+b3;return b2};b2.nice=function(){function b4(b5){return Math.pow(b1,Math.floor(Math.log(b5)/Math.log(b1)))}function b3(b5){return Math.pow(b1,Math.ceil(Math.log(b5)/Math.log(b1)))}bX.domain(bt(b0,bY===bN?{floor:b4,ceil:b3}:{floor:function(b5){return -b3(-b5)},ceil:function(b5){return -b4(-b5)}}).map(bY));return b2};b2.ticks=function(){var cb=T(bX.domain()),b8=[];if(cb.every(isFinite)){var b7=Math.log(b1),b6=Math.floor(cb[0]/b7),b5=Math.ceil(cb[1]/b7),ca=bZ(cb[0]),b9=bZ(cb[1]),b3=b1%1?2:b1;if(bY===bP){b8.push(-Math.pow(b1,-b6));for(;b6++<b5;){for(var b4=b3-1;b4>0;b4--){b8.push(-Math.pow(b1,-b6)*b4)}}}else{for(;b6<b5;b6++){for(var b4=1;b4<b3;b4++){b8.push(Math.pow(b1,b6)*b4)}}b8.push(Math.pow(b1,b6))}for(b6=0;b8[b6]<ca;b6++){}for(b5=b8.length;b8[b5-1]>b9;b5--){}b8=b8.slice(b6,b5)}return b8};b2.tickFormat=function(b8,b7){if(!arguments.length){return bS}if(arguments.length<2){b7=bS}else{if(typeof b7!=="function"){b7=bp.format(b7)}}var b3=Math.log(b1),b4=Math.max(0.1,b8/b2.ticks().length),b5=bY===bP?(b6=-1e-12,Math.floor):(b6=1e-12,Math.ceil),b6;return function(b9){return b9/bZ(b3*b5(bY(b9)/b3+b6))<=b4?b7(b9):""}};b2.copy=function(){return bE(bX.copy(),b1,bY,bZ,b0)};return bs(b2,bX)}var bS=bp.format(".0e");function bN(bX){return Math.log(bX<0?0:bX)}function aR(bX){return Math.exp(bX)}function bP(bX){return -Math.log(bX>0?0:-bX)}function aU(bX){return -Math.exp(-bX)}bp.scale.pow=function(){return bm(bp.scale.linear(),1,[0,1])};function bm(bX,b0,bZ){var bY=y(b0),b1=y(1/b0);function b2(b3){return bX(bY(b3))}b2.invert=function(b3){return b1(bX.invert(b3))};b2.domain=function(b3){if(!arguments.length){return bZ}bX.domain((bZ=b3.map(Number)).map(bY));return b2};b2.ticks=function(b3){return D(bZ,b3)};b2.tickFormat=function(b3,b4){return a(bZ,b3,b4)};b2.nice=function(b3){return b2.domain(ad(bZ,b3))};b2.exponent=function(b3){if(!arguments.length){return b0}bY=y(b0=b3);b1=y(1/b0);bX.domain(bZ.map(bY));return b2};b2.copy=function(){return bm(bX.copy(),b0,bZ)};return bs(b2,bX)}function y(bX){return function(bY){return bY<0?-Math.pow(-bY,bX):Math.pow(bY,bX)}}bp.scale.sqrt=function(){return bp.scale.pow().exponent(0.5)};bp.scale.ordinal=function(){return k([],{t:"range",a:[[]]})};function k(b2,bZ){var b1,bY,b0;function b3(b4){return bY[((b1.get(b4)||b1.set(b4,b2.push(b4)))-1)%bY.length]}function bX(b5,b4){return bp.range(b2.length).map(function(b6){return b5+b4*b6})}b3.domain=function(b4){if(!arguments.length){return b2}b2=[];b1=new a0;var b6=-1,b7=b4.length,b5;while(++b6<b7){if(!b1.has(b5=b4[b6])){b1.set(b5,b2.push(b5))}}return b3[bZ.t].apply(b3,bZ.a)};b3.range=function(b4){if(!arguments.length){return bY}bY=b4;b0=0;bZ={t:"range",a:arguments};return b3};b3.rangePoints=function(b4,b7){if(arguments.length<2){b7=0}var b8=b4[0],b5=b4[1],b6=(b5-b8)/(Math.max(1,b2.length-1)+b7);bY=bX(b2.length<2?(b8+b5)/2:b8+b6*b7/2,b6);b0=0;bZ={t:"rangePoints",a:arguments};return b3};b3.rangeBands=function(b5,b9,b4){if(arguments.length<2){b9=0}if(arguments.length<3){b4=b9}var b6=b5[1]<b5[0],ca=b5[b6-0],b7=b5[1-b6],b8=(b7-ca)/(b2.length-b9+2*b4);bY=bX(ca+b8*b4,b8);if(b6){bY.reverse()}b0=b8*(1-b9);bZ={t:"rangeBands",a:arguments};return b3};b3.rangeRoundBands=function(b5,ca,b4){if(arguments.length<2){ca=0}if(arguments.length<3){b4=ca}var b7=b5[1]<b5[0],cb=b5[b7-0],b8=b5[1-b7],b9=Math.floor((b8-cb)/(b2.length-ca+2*b4)),b6=b8-cb-(b2.length-ca)*b9;bY=bX(cb+Math.round(b6/2),b9);if(b7){bY.reverse()}b0=Math.round(b9*(1-ca));bZ={t:"rangeRoundBands",a:arguments};return b3};b3.rangeBand=function(){return b0};b3.rangeExtent=function(){return T(bZ.a[0])};b3.copy=function(){return k(b2,bZ)};return b3.domain(b2)}bp.scale.category10=function(){return bp.scale.ordinal().range(af)};bp.scale.category20=function(){return bp.scale.ordinal().range(M)};bp.scale.category20b=function(){return bp.scale.ordinal().range(aM)};bp.scale.category20c=function(){return bp.scale.ordinal().range(aL)};var af=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];var M=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];var aM=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];var aL=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];bp.ascending=function(bY,bX){return bY<bX?-1:bY>bX?1:bY>=bX?0:NaN};bp.quantile=function(bY,b2){var bZ=(bY.length-1)*b2+1,b0=Math.floor(bZ),bX=+bY[b0-1],b1=bZ-b0;return b1?bX+b1*(bY[b0]-bX):bX};bp.scale.quantile=function(){return au([],[])};function au(bZ,bY){var b0;function bX(){var b2=0,b3=bY.length;b0=[];while(++b2<b3){b0[b2-1]=bp.quantile(bZ,b2/b3)}return b1}function b1(b2){if(isNaN(b2=+b2)){return NaN}return bY[bp.bisect(b0,b2)]}b1.domain=function(b2){if(!arguments.length){return bZ}bZ=b2.filter(function(b3){return !isNaN(b3)}).sort(bp.ascending);return bX()};b1.range=function(b2){if(!arguments.length){return bY}bY=b2;return bX()};b1.quantiles=function(){return b0};b1.copy=function(){return au(bZ,bY)};return bX()}bp.scale.quantize=function(){return O(0,1,[0,1])};function O(b1,bZ,bY){var b2,b0;function b3(b4){return bY[Math.max(0,Math.min(b0,Math.floor(b2*(b4-b1))))]}function bX(){b2=bY.length/(bZ-b1);b0=bY.length-1;return b3}b3.domain=function(b4){if(!arguments.length){return[b1,bZ]}b1=+b4[0];bZ=+b4[b4.length-1];return bX()};b3.range=function(b4){if(!arguments.length){return bY}bY=b4;return bX()};b3.copy=function(){return O(b1,bZ,bY)};b3.invertExtent=function(b4){b4=bY.indexOf(b4);b4=b4<0?NaN:b4/b2+b1;return[b4,b4+1/b2]};return bX()}bp.scale.threshold=function(){return n([0.5],[0,1])};function n(bY,bX){function bZ(b0){return bX[bp.bisect(bY,b0)]}bZ.domain=function(b0){if(!arguments.length){return bY}bY=b0;return bZ};bZ.range=function(b0){if(!arguments.length){return bX}bX=b0;return bZ};bZ.invertExtent=function(b0){b0=bX.indexOf(b0);return[bY[b0-1],bY[b0]]};bZ.copy=function(){return n(bY,bX)};return bZ}bp.scale.identity=function(){return a3([0,1])};function a3(bY){function bX(bZ){return +bZ}bX.invert=bX;bX.domain=bX.range=function(bZ){if(!arguments.length){return bY}bY=bZ.map(bX);return bX};bX.ticks=function(bZ){return D(bY,bZ)};bX.tickFormat=function(bZ,b0){return a(bY,bZ,b0)};bX.copy=function(){return a3(bY)};return bX}var an={};an.HGRAPH_WIDTH=960;an.HGRAPH_HEIGHT=720;an.HGRAPH_RADIUS=80;an.HGRAPH_APP_BOOTSTRAPS=["data-hgraph-app","hgraph-app"];an.HGRAPH_GRAPH_BOOTSTRAPS=["data-hgraph-graph","hgraph-graph"];var R=Math.ceil;var bD=Math.floor;var ba=bF.isArray;var aq=bF.isString;var Q=bF.isFunction;var j=(function(){var bX=0;return(function(){return R(Math.random()*20000000000).toString(32)+(++bX)})})();bk.Graph=function(cd){this.ready=false;if(!cd){return false}this.invokeQueue=[];var b5=cd.uid||j(),b3=cd.container,b7=o.createElement("canvas"),ce=o.createElement("uiLayer"),b8=b7.getContext("2d"),bY={x:0,y:0,isDown:false},cc={position:{x:0,y:0},rotation:0,scale:1},ca=[];function b2(){for(var cf=0;cf<ca.length;cf++){ca[cf].Update()}return b1()}function b1(){b8.clearRect(0,0,an.HGRAPH_WIDTH,an.HGRAPH_HEIGHT);for(var cf=0;cf<ca.length;cf++){ca[cf].Draw(b8)}}function bZ(){ca.push(new bk.Graph.Ring());for(var cf=0;cf<ca.length;cf++){ca[cf].Initialize(bY,cc)}return b2()}function b0(cf){bY.x=cf.pageX-b3.offsetLeft-(an.HGRAPH_WIDTH*0.5);bY.y=cf.pageY-b3.offsetTop-(an.HGRAPH_HEIGHT*0.5);if(bY.isDown){cc.position.x=bY.x;cc.position.y=bY.y;return b2()}}function bX(){bY.isDown=true;bF(o).bind("mouseup",b4)}function b4(){bY.isDown=false;bF(o).unbind("mouseup")}function cb(){_scale=(_scale===1)?4:1;return b2()}function b6(cf){}try{b3.appendChild(b7);b3.appendChild(ce)}catch(b9){this.ready=false;return console.error("hGraph was unable to create a graph in the container")}bF(b7).attr("hgraph-layer","data");bF(ce).attr("hgraph-layer","ui").bind("mousemove",b0).bind("mousedown",bX).bind("mouseup",b4).bind("click",b6);this.invokeQueue.push(bZ);this.ready=true};bk.Graph.prototype={constructor:bk.graph,Initialize:function(){if(!this.ready||!ba(this.invokeQueue)){return false}var bY=null,bX=this.invokeQueue;while(bY=bX.pop()){if(Q(bY)){bY()}}}};bk.Graph.Component=function(bX){var b0={},bZ={};bX(b0,bZ);function bY(){}bY.prototype.Initialize=function(b2,b1){bZ.mouse=b2;bZ.transform=b1;if(bZ.mouse&&bZ.transform){this.ready=true}};bF.extend(bY.prototype,b0);return bY};bk.Graph.Ring=bk.Graph.Component(function(bY,bX){bX.mouse=null;bX.transform=null;bY.Draw=function(bZ){if(!this.ready){return console.log("not prepared to draw yet")}var b8=an.HGRAPH_WIDTH*0.5,b7=an.HGRAPH_HEIGHT*0.5,b2=bX.transform.scale,b4=bX.transform.position.x,b0=bX.transform.position.y,b3=0,b1=0,b6=50,b5=100;bZ.fillStyle="#333";bZ.beginPath();bZ.arc(b3,b1,b5,0,2*Math.PI);bZ.fill();bZ.fillStyle="#fff";bZ.beginPath();bZ.arc(b3,b1,b6,0,2*Math.PI);bZ.fill();console.log("whoa")};bY.Update=function(){}});function V(bX){var bY=j();aE[bY]=new bk.Graph({uid:bY,container:bX})}function z(){bF(an.HGRAPH_GRAPH_BOOTSTRAPS).each(function(b0,bY){var b1=bF("["+bY+"]");for(var bZ=0;bZ<b1.length;bZ++){V(b1[bZ])}});for(var bX in aE){aE[bX].Initialize()}}function aO(){bF(an.HGRAPH_APP_BOOTSTRAPS).each(function(bY,bX){var bZ=bF("["+bX+"]");if(bZ.length>0){aF=bZ.first()}});if(aF!==false){return z()}}bF(o).ready(aO);s.hGraph=bk})(window);