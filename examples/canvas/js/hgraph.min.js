/*! HGraph.js
 * Authors:
 *  Michael Bester <michael@kimili.com>
 *  Ivan DiLernia <ivan@goinvo.com>
 *  Danny Hadley <danny@goinvo.com>
 *  Matt Madonna <matthew@myimedia.com>
 *
 * License:
 * Copyright 2012, Involution Studios <http://goinvo.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *  
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/
(function(s){var bl={},bG={},bq={},aG=false,aF={};function be(){return +new Date}var q=function(b6,ci){if(b6===""&&ci){return ci}var cb=b6.split(" ");var b9=cb.shift();var b5;if(b9.charAt(0)=="#"){var ca=o.getElementById(b9.substring(1));b5=ca?[ca]:[]}else{var bY=b9.charAt(0)!=="."?b9.split(".")[0]:"*";var cg=b9.split(".");var cd=null;if(bY.indexOf("[")!=-1){cd=bY;bY=bY.substr(0,bY.indexOf("["))}var bZ=function(b2){var b1=arguments.callee;if((!b1.needClass||au(b2,b1.classes))&&(!b1.needAttribute||bD(b2,b1.attributes))){return b2}};var cf=[];for(var b0=0;b0<ci.length;b0++){var b8=ci[b0].getElementsByTagName(bY);for(var ch=0;ch<b8.length;ch++){cf.push(b8[ch])}}if(cg){cg.shift()}b5=[];bZ.classes=cg;if(cd!=null){var b4=cd.indexOf("[");var b3=cd.lastIndexOf("]");var cc=cd.substring(b4+1,b3);var b7=cc.split("][")}bZ.attributes=cd!=null?b7:null;bZ.needClass=(b9.indexOf(".")!=-1&&cg.length>0);bZ.needAttribute=(cd!=null);for(var ce=0;ce<cf.length;ce++){if(bZ(cf[ce])){b5.push(cf[ce])}}}return q(cb.join(" "),b5)};var bB=function(bY,b2){b2=b2||o;if(bY.nodeType&&bY.nodeType===b){bY=o.body;if(bY===null){return[o]}}if(bY.nodeType&&bY.nodeType===bf){return[bY]}if(bY.jquery&&typeof bY.jquery==="string"){return bY.toArray()}if(b2){b2=bP(b2)}if(aa.isArray(bY)){return bY}else{if(typeof bY==="string"){var b1=[];for(var b4=0;b4<b2.length;b4++){var b3=[b2[b4]];if(!aa.forceSimpleSelectorEngine&&b3[0].querySelectorAll){var bZ=b3[0].querySelectorAll(bY);for(var b0=0;b0<bZ.length;b0++){b1.push(bZ.item(b0))}}else{b1=b1.concat(q(bY,b3))}}return b1}else{return null}}};var au=function(bY,bZ){if(bY.className.length==0){return false}var b2=bY.className.split(" ");var b0=bZ.length;for(var b1=0;b1<bZ.length;b1++){if(aa.inArray(bZ[b1],b2)!=-1){b0--}}return(b0==0)};var bD=function(b1,bZ){var b3=true;for(var b0=0;b0<bZ.length;b0++){var bY=bZ[b0].split("=");var b2=(bY[0].indexOf("!")!=-1||bY[0].indexOf("*")!=-1)?bY[0].charAt(bY[0].length-1)+"=":"=";if(b2!="="){bY[0]=bY[0].substring(0,bY[0].length-1)}switch(b2){case"=":b3&=(b1.getAttribute(bY[0])===bY[1]);break;case"!=":b3&=(b1.getAttribute(bY[0])!==bY[1]);break;case"*=":b3&=(b1.getAttribute(bY[0]).indexOf(bY[1])!=-1);break;default:b3=false}}return b3};var W=false;setTimeout(function(){var bY=o.body;if(!bY){setTimeout(arguments.callee,33);return}var b0=o.createElement("script"),b2="i"+new Date().getTime();b0.type="text/javascript";try{b0.appendChild(o.createTextNode("window."+b2+"=1;"))}catch(b1){}bY.insertBefore(b0,bY.firstChild);var bZ=true;if(window[b2]){delete window[b2]}else{bZ=false}bY.removeChild(b0);W=bZ},33);var aw=function(bZ){var b0=o.createElement("div");b0.innerHTML=bZ;var bY=b0.getElementsByTagName("script");return{scripts:bY,data:bZ}};var aY=function(b3,b0){b0=b0||false;b3=(!b3?"":b3.toString().replace(/^\s*|\s*$/g,""));var bZ="";if(b3.length<=0){return""}var b2=false;if(!b0){bZ+=b3.charAt(0).toUpperCase()}else{bZ+=b3.charAt(0)}for(var bY=1;bY<b3.length;bY++){if(b2){bZ+=b3.charAt(bY).toUpperCase()}else{bZ+=b3.charAt(bY).toLowerCase()}var b1=b3.charCodeAt(bY);b2=b1==32||b1==45||b1==46;if(b1==99||b1==67){if(b3.charCodeAt(bY-1)==77||b3.charCodeAt(bY-1)==109){b2=true}}}return bZ};var g=function(bY){var bZ=bY.replace(/-/g," ");bZ=aY(bZ,true);return bZ.replace(/ /g,"")};var aL={click:"MouseEvents",dblclick:"MouseEvents",mousedown:"MouseEvents",mouseup:"MouseEvents",mouseover:"MouseEvents",mousemove:"MouseEvents",mouseout:"MouseEvents",contextmenu:"MouseEvents",keypress:"KeyEvents",keydown:"KeyEvents",keyup:"KeyEvents",load:"HTMLEvents",unload:"HTMLEvents",abort:"HTMLEvents",error:"HTMLEvents",resize:"HTMLEvents",scroll:"HTMLEvents",select:"HTMLEvents",change:"HTMLEvents",submit:"HTMLEvents",reset:"HTMLEvents",focus:"HTMLEvents",blur:"HTMLEvents",touchstart:"MouseEvents",touchend:"MouseEvents",touchmove:"MouseEvents"};var bX=function(bZ){if(typeof bZ==="string"){bZ=bZ.toLowerCase()}var bY=null;var b0=aL[bZ]||"Event";if(o.createEvent){bY=o.createEvent(b0);bY._eventClass=b0;if(bZ){bY.initEvent(bZ,true,true)}}if(o.createEventObject){bY=o.createEventObject();if(bZ){bY.type=bZ;bY._eventClass=b0}}return bY};var bv=function(bZ,bY,b1){var b6=bX(bY);if(b6._eventClass!=="Event"){b6.data=b1;return bZ.dispatchEvent(b6)}else{var b5=bZ._handlers||{};var b0=b5[bY];if(b0){for(var b2=0;b2<b0.length;b2++){var b4=aa.isArray(b1)?b1:[];b4.unshift(b6);var b3=b0[b2].apply(bZ,b4);b3=(typeof b3=="undefined"?true:b3);if(!b3){break}}}}};var by=function(b2,bZ,b1){if(!aa.isFunction(b1)){return}if(typeof bZ==="string"){bZ=bZ.toLowerCase()}var b3=aL[bZ];if(bZ.indexOf("on")==0){bZ=bZ.substring(2)}if(b3){var b0=function(b4){var b6=arguments.callee;var b5=b4.data||[];b5.unshift(b4);var b7=b6.fn.apply(b2,b5);if(typeof b7!="undefined"&&b7===false){if(b4.preventDefault&&b4.stopPropagation){b4.preventDefault();b4.stopPropagation()}else{b4.returnValue=false;b4.cancelBubble=true}return false}return true};b0.fn=b1;if(b2.addEventListener){b2.addEventListener(bZ,b0,false)}else{b2.attachEvent("on"+bZ,b0)}}else{if(!b2._handlers){b2._handlers={}}var bY=b2._handlers[bZ]||[];bY.push(b1);b2._handlers[bZ]=bY}};var aJ=function(b0,bY,bZ){b0["on"+bY]=null};var aa=function(bY,bZ){return new ad().init(bY,bZ)},o=window.document,ab=Object.prototype.hasOwnProperty,w=Object.prototype.toString,v=Array.prototype.push,N=Array.prototype.slice,bf=1,b=9,ap=[],Z=false,I=false,aZ;aa.forceSimpleSelectorEngine=false;aa.each=function(b4,b1){var bZ,b0=0,b2=b4.length,bY=b2===undefined||aa.isFunction(b4);if(bY){for(bZ in b4){if(b1.call(b4[bZ],bZ,b4[bZ])===false){break}}}else{for(var b3=b4[0];b0<b2&&b1.call(b3,b0,b3)!==false;b3=b4[++b0]){}}return b4};aa.noop=function(){};aa.isFunction=function(bY){return w.call(bY)==="[object Function]"};aa.isArray=function(bY){return w.call(bY)==="[object Array]"};aa.isPlainObject=function(bZ){if(!bZ||w.call(bZ)!=="[object Object]"||bZ.nodeType||bZ.setInterval){return false}if(bZ.constructor&&!ab.call(bZ,"constructor")&&!ab.call(bZ.constructor.prototype,"isPrototypeOf")){return false}var bY;for(bY in bZ){}return bY===undefined||ab.call(bZ,bY)};aa.merge=function(b2,b0){var b1=b2.length,bZ=0;if(typeof b0.length==="number"){for(var bY=b0.length;bZ<bY;bZ++){b2[b1++]=b0[bZ]}}else{while(b0[bZ]!==undefined){b2[b1++]=b0[bZ++]}}b2.length=b1;return b2};aa.param=function(bZ){var bY="";if(bZ){aa.each(bZ,function(b1,b0){bY+=(bY.length!=0?"&":"")+b0+"="+encodeURIComponent(b1)})}return bY};aa.evalScripts=function(bY){var b0=o.getElementsByTagName("head")[0]||o.documentElement;for(var b1=0;b1<bY.length;b1++){var bZ=o.createElement("script");bZ.type="text/javascript";if(W){bZ.appendChild(o.createTextNode(bY[b1].text))}else{bZ.text=bY[b1].text}b0.insertBefore(bZ,b0.firstChild);b0.removeChild(bZ)}};aa.ready=function(){Z=true;while(ap.length>0){var bY=ap.shift();bY()}};var ba="jQuery"+be(),d=0,a5={};aa.noData={embed:true,object:true,applet:true};aa.cache={};aa.data=function(bZ,bY,b0){if(bZ.nodeName&&bG.noData[bZ.nodeName.toLowerCase()]){return}bZ=bZ==window?a5:bZ;var b1=bZ[ba];if(!b1){b1=bZ[ba]=++d}if(bY&&!bG.cache[b1]){bG.cache[b1]={}}if(b0!==undefined){bG.cache[b1][bY]=b0}return bY?bG.cache[b1][bY]:b1};aa.removeData=function(bZ,bY){bZ=bZ==window?a5:bZ;var b1=bZ[ba];if(bY){if(bG.cache[b1]){delete bG.cache[b1][bY];bY="";for(bY in bG.cache[b1]){break}if(!bY){bG.removeData(bZ)}}}else{try{delete bZ[ba]}catch(b0){if(bZ.removeAttribute){bZ.removeAttribute(ba)}}delete bG.cache[b1]}};aa.ajax={status:-1,statusText:"",responseText:null,responseXML:null,send:function(bY,b2,b3){if(aa.isFunction(b2)){b3=b2;b2={}}if(!bY){return}var b1=true,b0=null,b5=null;if(typeof b2.async!=="undefined"){b1=b2.async;delete b2.async}if(typeof b2.username!=="undefined"){b0=b2.username;delete b2.username}if(typeof b2.password!=="undefined"){b5=b2.password;delete b2.password}var bZ=aa.param(b2);if(bZ.length!=0){bY+=(bY.indexOf("?")==-1?"?":"&")+bZ}var b6=new XMLHttpRequest();b6.open("GET",bY,b1,b0,b5);b6.send();if(b1){var b7=function(b9){var b8=arguments.callee;if(b9.status==200){aa.ajax.complete(b9,b8.cb)}else{aa.ajax.error(b9,b8.cb)}};b7.cb=b3;var b4=function(){var b8=arguments.callee;if(b8.req.readyState!=4){setTimeout(b8,250)}else{b8.xcb(b8.req)}};b4.req=b6;b4.xcb=b7;setTimeout(b4,250)}else{}},complete:function(bY,bZ){aa.ajax.status=bY.status;aa.ajax.responseText=bY.responseText;aa.ajax.responseXML=bY.responseXML;if(aa.isFunction(bZ)){bZ(bY.responseText,bY.status)}},error:function(bY,bZ){aa.ajax.status=bY.status;aa.ajax.statusText=bY.statusText;if(aa.isFunction(bZ)){bZ(bY.status,bY.statusText)}}};aa.makeArray=function(b0,bZ){var bY=bZ||[];if(b0!=null){if(b0.length==null||typeof b0==="string"||bG.isFunction(b0)||(typeof b0!=="function"&&b0.setInterval)){v.call(bY,b0)}else{aa.merge(bY,b0)}}return bY};aa.inArray=function(b0,bY){for(var bZ=0;bZ<bY.length;bZ++){if(bY[bZ]===b0){return bZ}}return -1};aa.trim=function(bY){if(bY!=null){return bY.toString().replace(/^\s*|\s*$/g,"")}else{return""}};var ad=function(){};ad.prototype={selector:"",context:null,length:0,jquery:"jqlite-1.1.1",init:function(b6,b3){if(!b6){return this}if(b6.nodeType){this.context=this[0]=b6;this.length=1}else{if(typeof b6==="function"){this.ready(b6)}else{var b0=[];if(b6.jquery&&typeof b6.jquery==="string"){b0=b6.toArray()}else{if(aa.isArray(b6)){b0=b6}else{if(typeof b6==="string"&&aa.trim(b6).indexOf("<")==0&&aa.trim(b6).indexOf(">")!=-1){var b4=t(b6);var b1=o.createElement(b4);b1.innerHTML=b6;b0=[b1.removeChild(b1.firstChild)];b1=null}else{var b5;if(b6.indexOf(",")!=-1){b5=b6.split(",");for(var bY=0;bY<b5.length;bY++){b5[bY]=aa.trim(b5[bY])}}else{b5=[b6]}var b2=[];for(var bZ=0;bZ<b5.length;bZ++){b2=b2.concat(bB(b5[bZ],b3))}b0=b2}}}v.apply(this,b0)}}return this},each:function(bY){return aa.each(this,bY)},size:function(){return this.length},toArray:function(){return N.call(this,0)},ready:function(bY){if(Z){bY()}else{ap.push(bY);return this}},data:function(bY,bZ){if(typeof bY==="undefined"&&this.length){return bG.data(this[0])}else{if(typeof bY==="object"){return this.each(function(){bG.data(this,bY)})}}var b0=bY.split(".");b0[1]=b0[1]?"."+b0[1]:"";if(bZ===undefined){if(data===undefined&&this.length){data=bG.data(this[0],bY)}return data===undefined&&b0[1]?this.data(b0[0]):data}else{return this.each(function(){bG.data(this,bY,bZ)})}},removeData:function(bY){return this.each(function(){bG.removeData(this,bY)})},addClass:function(bY){return this.each(function(){if(this.className.length!=0){var bZ=this.className.split(" ");if(aa.inArray(bY,bZ)==-1){bZ.push(bY);this.className=bZ.join(" ")}}else{this.className=bY}})},removeClass:function(bY){return this.each(function(){if(this.className.length!=0){var b0=this.className.split(" ");var bZ=aa.inArray(bY,b0);if(bZ!=-1){b0.splice(bZ,1);this.className=b0.join(" ")}}})},hasClass:function(bY){if(this[0].className.length==0){return false}return aa.inArray(bY,this[0].className.split(" "))!=-1},isElementName:function(bY){return(this[0].nodeName.toLowerCase()===bY.toLowerCase())},toggleClass:function(bY){return this.each(function(){if(this.className.length==0){this.className=bY}else{var b0=this.className.split(" ");var bZ=aa.inArray(bY,b0);if(bZ!=-1){b0.splice(bZ,1)}else{b0.push(bY)}this.className=b0.join(" ")}})},hide:function(bY){return this.each(function(){if(this.style&&this.style.display!=null){if(this.style.display.toString()!="none"){this._oldDisplay=this.style.display.toString()||(this.nodeName!="span"?"block":"inline");this.style.display="none"}}if(aa.isFunction(bY)){bY(this)}})},show:function(bY){return this.each(function(){this.style.display=((this._oldDisplay&&this._oldDisplay!=""?this._oldDisplay:null)||(this.nodeName!="span"?"block":"inline"));if(aa.isFunction(bY)){bY(this)}})},css:function(bY,bZ){if(typeof bY==="string"&&bZ==null){return this[0].style[g(bY)]}else{bY=typeof bY==="string"?bz(bY,bZ):bY;return this.each(function(){var b0=this;if(typeof b0.style!="undefined"){aa.each(bY,function(b1,b2){b2=(typeof b2==="number"?b2+"px":b2);var b3=g(b1);if(!b0.style[b3]){b3=b1}b0.style[b3]=b2})}})}},load:function(bY,b0,bZ){if(aa.isFunction(b0)){bZ=b0;b0={}}return this.each(function(){var b1=function(b4,b2){var b3=arguments.callee;if(b4){var b5=aw(b4);b3.elem.innerHTML=b5.data;aa.evalScripts(b5.scripts)}if(aa.isFunction(b3.cback)){b3.cback(b4,b2)}};b1.cback=bZ;b1.elem=this;aa.ajax.send(bY,b0,b1)})},html:function(bY){if(!bY){return this[0].innerHTML}else{return this.each(function(){var bZ=aw(bY);this.innerHTML=bZ.data;aa.evalScripts(bZ.scripts)})}},attr:function(bY,bZ){if(typeof bY==="string"&&bZ==null){if(this[0]){return this[0].getAttribute(bY)}else{return""}}else{return this.each(function(){bY=typeof bY==="string"?bz(bY,bZ):bY;for(var b1 in bY){var b0=bY[b1];this.setAttribute(b1,b0)}})}},eq:function(bY){var bZ=this.toArray();var b0=bY<0?bZ[bZ.length+bY]:bZ[bY];this.context=this[0]=b0;this.length=1;return this},first:function(){var bY=this.toArray();this.context=this[0]=bY[0];this.length=1;return this},last:function(){var bY=this.toArray();this.context=this[0]=bY[bY.length-1];this.length=1;return this},index:function(b0){var bZ=-1;if(this.length!=0){var b4=this[0];if(!b0){var b2=this.parent();var b1=b2[0].firstChild;var bY=[];while(b1!=null){if(b1.nodeType===bf){bY.push(b1)}b1=b1.nextSibling}aa.each(b1,function(b5){if(this===b4){bZ=b5;return false}})}else{var b3=aa(b0)[0];this.each(function(b5){if(this===b3){bZ=b5;return false}})}}return bZ},next:function(b0){var bZ=[];if(!b0){this.each(function(){var b1=this.nextSibling;while(b1!=null&&b1.nodeType!==bf){b1=b1.nextSibling}if(b1!=null){bZ.push(b1)}})}else{var bY=aa(b0);this.each(function(){var b2=this.nextSibling;while(b2!=null&&b2.nodeType!==bf){b2=b2.nextSibling}if(b2!=null){var b1=false;bY.each(function(){if(this==b2){b1=true;return false}});if(b1){bZ.push(b2)}}})}return aa(bZ)},prev:function(b0){var bZ=[];if(!b0){this.each(function(){var b1=this.previousSibling;while(b1!=null&&b1.nodeType!==bf){b1=b1.previousSibling}if(b1!=null){bZ.push(b1)}})}else{var bY=aa(b0);this.each(function(){var b2=this.previousSibling;while(b2!=null&&b2.nodeType!==bf){b2=b2.previousSibling}if(b2!=null){var b1=false;bY.each(function(){if(this==b2){b1=true;return false}});if(b1){bZ.push(b2)}}})}return aa(bZ)},parent:function(b0){var bZ=[];if(!b0){this.each(function(){bZ.push(this.parentNode)})}else{var bY=aa(b0);this.each(function(){var b2=this.parentNode;var b1=false;bY.each(function(){if(this==b2){b1=true;return false}});if(b1){bZ.push(b2)}})}return aa(bZ)},parents:function(b0){var bZ=[];if(!b0){this.each(function(){var b1=this;while(b1!=o.body){b1=b1.parentNode;bZ.push(b1)}})}else{var bY=aa(b0);this.each(function(){var b1=this;while(b1!=o.body){bY.each(function(){if(this==b1){bZ.push(b1)}});b1=b1.parentNode}})}return aa(bZ)},children:function(bZ){var bY=[];if(!bZ){this.each(function(){var b1=this.firstChild;while(b1!=null){if(b1.nodeType==bf){bY.push(b1)}b1=b1.nextSibling}})}else{var b0=aa(bZ);this.each(function(){var b1=this.firstChild;while(b1!=null){if(b1.nodeType==bf){b0.each(function(){if(this===b1){bY.push(b1)}})}b1=b1.nextSibling}})}return aa(bY)},append:function(bY){bY=bP(bY);return this.each(function(){for(var bZ=0;bZ<bY.length;bZ++){this.appendChild(bY[bZ])}})},remove:function(bY){return this.each(function(){if(bY){$(bY,this).remove()}else{var bZ=this.parentNode;bZ.removeChild(this)}})},empty:function(){return this.each(function(){this.innerHTML=""})},val:function(bZ){if(bZ==null){var bY=null;if(this&&this.length!=0&&typeof this[0].value!="undefined"){bY=this[0].value}return bY}else{return this.each(function(){if(typeof this.value!="undefined"){this.value=bZ}})}},bind:function(bY,bZ){return this.each(function(){by(this,bY,bZ)})},unbind:function(bY){return this.each(function(){aJ(this,bY)})},trigger:function(bY,bZ){return this.each(function(){return bv(this,bY,bZ)})},submit:function(bY){return this.each(function(){if(aa.isFunction(bY)){by(this,"onsubmit",bY)}else{if(this.submit){this.submit()}}})}};if(o.addEventListener){aZ=function(){o.removeEventListener("DOMContentLoaded",aZ,false);aa.ready()}}else{if(o.attachEvent){aZ=function(){if(o.readyState==="complete"){o.detachEvent("onreadystatechange",aZ);aa.ready()}}}}if(!I){I=true;if(o.readyState==="complete"){return aa.ready()}if(o.addEventListener){o.addEventListener("DOMContentLoaded",aZ,false);window.addEventListener("load",aa.ready,false)}else{if(o.attachEvent){o.attachEvent("onreadystatechange",aZ);window.attachEvent("onload",aa.ready)}}}var bz=function(bY,b0){var bZ={};bZ[bY]=b0;return bZ};var bP=function(bY){if(bY.nodeType&&(bY.nodeType===bf||bY.nodeType===b)){bY=[bY]}else{if(typeof bY==="string"){bY=aa(bY).toArray()}else{if(bY.jquery&&typeof bY.jquery==="string"){bY=bY.toArray()}}}return bY};var t=function(bZ){var bY=aa.trim(bZ).toLowerCase();return bY.indexOf("<option")==0?"SELECT":bY.indexOf("<li")==0?"UL":bY.indexOf("<tr")==0?"TBODY":bY.indexOf("<td")==0?"TR":"DIV"};if(typeof window.jQuery=="undefined"){bG=aa;bG.fn=ad.prototype}bG.extend=bG.fn.extend=function(){var b3=arguments[0]||{},b2=1,b1=arguments.length,b5=false,b6,b0,bY,bZ;if(typeof b3==="boolean"){b5=b3;b3=arguments[1]||{};b2=2}if(typeof b3!=="object"&&!bG.isFunction(b3)){b3={}}if(b1===b2){b3=this;--b2}for(;b2<b1;b2++){if((b6=arguments[b2])!=null){for(b0 in b6){bY=b3[b0];bZ=b6[b0];if(b3===bZ){continue}if(b5&&bZ&&(bG.isPlainObject(bZ)||bG.isArray(bZ))){var b4=bY&&(bG.isPlainObject(bY)||bG.isArray(bY))?bY:bG.isArray(bZ)?[]:{};b3[b0]=bG.extend(b5,b4,bZ)}else{if(bZ!==undefined){b3[b0]=bZ}}}}}return b3};bG.each("click,dblclick,mouseover,mouseout,mousedown,mouseup,keydown,keypress,keyup,focus,blur,change,select,error,load,unload,scroll,resize,touchstart,touchend,touchmove".split(","),function(bZ,bY){bG.fn[bY]=function(b0){return(b0?this.bind(bY,b0):this.trigger(bY))}});bq.scale={};function T(bZ){var b0=bZ[0],bY=bZ[bZ.length-1];return b0<bY?[b0,bY]:[bY,b0]}function bp(bY){return bY.rangeExtent?bY.rangeExtent():T(bY.range())}bq.range=function(b4,b2,b3){if(arguments.length<3){b3=1;if(arguments.length<2){b2=b4;b4=0}}if((b2-b4)/b3===Infinity){throw new Error("infinite range")}var bZ=[],bY=bj(Math.abs(b3)),b1=-1,b0;b4*=bY,b2*=bY,b3*=bY;if(b3<0){while((b0=b4+b3*++b1)>b2){bZ.push(b0/bY)}}else{while((b0=b4+b3*++b1)<b2){bZ.push(b0/bY)}}return bZ};function bj(bY){var bZ=1;while(bY*bZ%1){bZ*=10}return bZ}bq.rebind=function(b0,bZ){var bY=1,b2=arguments.length,b1;while(++bY<b2){b0[b1=arguments[bY]]=P(b0,bZ,bZ[b1])}return b0};function P(bZ,bY,b0){return function(){var b1=b0.apply(bY,arguments);return b1===bY?bZ:b1}}function ai(){}ai.prototype.toString=function(){return this.rgb()+""};function bL(b0,bZ){try{for(var bY in bZ){Object.defineProperty(b0.prototype,bY,{value:bZ[bY],enumerable:false})}}catch(b1){b0.prototype=bZ}}bq.map=function(bY){var b0=new a1;for(var bZ in bY){b0.set(bZ,bY[bZ])}return b0};function a1(){}bL(a1,{has:function(bY){return bJ+bY in this},get:function(bY){return this[bJ+bY]},set:function(bY,bZ){return this[bJ+bY]=bZ},remove:function(bY){bY=bJ+bY;return bY in this&&delete this[bY]},keys:function(){var bY=[];this.forEach(function(bZ){bY.push(bZ)});return bY},values:function(){var bY=[];this.forEach(function(bZ,b0){bY.push(b0)});return bY},entries:function(){var bY=[];this.forEach(function(bZ,b0){bY.push({key:bZ,value:b0})});return bY},forEach:function(bZ){for(var bY in this){if(bY.charCodeAt(0)===al){bZ.call(this,bY.substring(1),this[bY])}}}});var bJ="\0",al=bJ.charCodeAt(0);bq.hsl=function(b0,bZ,bY){return arguments.length===1?(b0 instanceof bg?aA(b0.h,b0.s,b0.l):U(""+b0,aQ,aA)):aA(+b0,+bZ,+bY)};function aA(b0,bZ,bY){return new bg(b0,bZ,bY)}function bg(b0,bZ,bY){this.h=b0;this.s=bZ;this.l=bY}var bV=bg.prototype=new ai;bV.brighter=function(bY){bY=Math.pow(0.7,arguments.length?bY:1);return aA(this.h,this.s,this.l/bY)};bV.darker=function(bY){bY=Math.pow(0.7,arguments.length?bY:1);return aA(this.h,this.s,bY*this.l)};bV.rgb=function(){return bK(this.h,this.s,this.l)};function bK(b3,b2,bY){var b1,b0;b3=isNaN(b3)?0:(b3%=360)<0?b3+360:b3;b2=isNaN(b2)?0:b2<0?0:b2>1?1:b2;bY=bY<0?0:bY>1?1:bY;b0=bY<=0.5?bY*(1+b2):bY+b2-bY*b2;b1=2*bY-b0;function bZ(b5){if(b5>360){b5-=360}else{if(b5<0){b5+=360}}if(b5<60){return b1+(b0-b1)*b5/60}if(b5<180){return b0}if(b5<240){return b1+(b0-b1)*(240-b5)/60}return b1}function b4(b5){return Math.round(bZ(b5)*255)}return am(b4(b3+120),b4(b3),b4(b3-120))}var aO=Math.PI,aU=0.000001,h=aU*aU,aR=aO/180,a9=180/aO;function bw(bY){return bY>0?1:bY<0?-1:0}function ax(bY){return bY>1?0:bY<-1?aO:Math.acos(bY)}function bm(bY){return bY>1?aO/2:bY<-1?-aO/2:Math.asin(bY)}function at(bY){return(Math.exp(bY)-Math.exp(-bY))/2}function aE(bY){return(Math.exp(bY)+Math.exp(-bY))/2}function A(bY){return(bY=Math.sin(bY/2))*bY}bq.hcl=function(bZ,b0,bY){return arguments.length===1?(bZ instanceof c?bh(bZ.h,bZ.c,bZ.l):(bZ instanceof C?aD(bZ.l,bZ.a,bZ.b):aD((bZ=bS((bZ=bq.rgb(bZ)).r,bZ.g,bZ.b)).l,bZ.a,bZ.b))):bh(+bZ,+b0,+bY)};function bh(bZ,b0,bY){return new c(bZ,b0,bY)}function c(bZ,b0,bY){this.h=bZ;this.c=b0;this.l=bY}var bo=c.prototype=new ai;bo.brighter=function(bY){return bh(this.h,this.c,Math.min(100,this.l+K*(arguments.length?bY:1)))};bo.darker=function(bY){return bh(this.h,this.c,Math.max(0,this.l-K*(arguments.length?bY:1)))};bo.rgb=function(){return aj(this.h,this.c,this.l).rgb()};function aj(bZ,b0,bY){if(isNaN(bZ)){bZ=0}if(isNaN(b0)){b0=0}return bH(bY,Math.cos(bZ*=aR)*b0,Math.sin(bZ)*b0)}bq.lab=function(b0,bZ,bY){return arguments.length===1?(b0 instanceof C?bH(b0.l,b0.a,b0.b):(b0 instanceof c?aj(b0.l,b0.c,b0.h):bS((b0=bq.rgb(b0)).r,b0.g,b0.b))):bH(+b0,+bZ,+bY)};function bH(b0,bZ,bY){return new C(b0,bZ,bY)}function C(b0,bZ,bY){this.l=b0;this.a=bZ;this.b=bY}var K=18;var G=0.95047,F=1,E=1.08883;var J=C.prototype=new ai;J.brighter=function(bY){return bH(Math.min(100,this.l+K*(arguments.length?bY:1)),this.a,this.b)};J.darker=function(bY){return bH(Math.max(0,this.l-K*(arguments.length?bY:1)),this.a,this.b)};J.rgb=function(){return f(this.l,this.a,this.b)};function f(b1,b0,bZ){var b3=(b1+16)/116,bY=b3+b0/500,b2=b3-bZ/200;bY=aK(bY)*G;b3=aK(b3)*F;b2=aK(b2)*E;return am(u(3.2404542*bY-1.5371385*b3-0.4985314*b2),u(-0.969266*bY+1.8760108*b3+0.041556*b2),u(0.0556434*bY-0.2040259*b3+1.0572252*b2))}function aD(b0,bZ,bY){return b0>0?bh(Math.atan2(bY,bZ)*a9,Math.sqrt(bZ*bZ+bY*bY),b0):bh(NaN,NaN,b0)}function aK(bY){return bY>0.206893034?bY*bY*bY:(bY-4/29)/7.787037}function a7(bY){return bY>0.008856?Math.pow(bY,1/3):7.787037*bY+4/29}function u(bY){return Math.round(255*(bY<=0.00304?12.92*bY:1.055*Math.pow(bY,1/2.4)-0.055))}bq.rgb=function(b0,bZ,bY){return arguments.length===1?(b0 instanceof a2?am(b0.r,b0.g,b0.b):U(""+b0,am,bK)):am(~~b0,~~bZ,~~bY)};function am(b0,bZ,bY){return new a2(b0,bZ,bY)}function a2(b0,bZ,bY){this.r=b0;this.g=bZ;this.b=bY}var l=a2.prototype=new ai;l.brighter=function(bZ){bZ=Math.pow(0.7,arguments.length?bZ:1);var b2=this.r,b1=this.g,bY=this.b,b0=30;if(!b2&&!b1&&!bY){return am(b0,b0,b0)}if(b2&&b2<b0){b2=b0}if(b1&&b1<b0){b1=b0}if(bY&&bY<b0){bY=b0}return am(Math.min(255,Math.floor(b2/bZ)),Math.min(255,Math.floor(b1/bZ)),Math.min(255,Math.floor(bY/bZ)))};l.darker=function(bY){bY=Math.pow(0.7,arguments.length?bY:1);return am(Math.floor(bY*this.r),Math.floor(bY*this.g),Math.floor(bY*this.b))};l.hsl=function(){return aQ(this.r,this.g,this.b)};l.toString=function(){return"#"+a0(this.r)+a0(this.g)+a0(this.b)};function a0(bY){return bY<16?"0"+Math.max(0,bY).toString(16):Math.min(255,bY).toString(16)}function U(b3,b1,b4){var bY=0,b0=0,b2=0,b6,b5,bZ;b6=/([a-z]+)\((.*)\)/i.exec(b3);if(b6){b5=b6[2].split(",");switch(b6[1]){case"hsl":return b4(parseFloat(b5[0]),parseFloat(b5[1])/100,parseFloat(b5[2])/100);case"rgb":return b1(aq(b5[0]),aq(b5[1]),aq(b5[2]))}}if(bZ=aH.get(b3)){return b1(bZ.r,bZ.g,bZ.b)}if(b3!=null&&b3.charAt(0)==="#"){if(b3.length===4){bY=b3.charAt(1);bY+=bY;b0=b3.charAt(2);b0+=b0;b2=b3.charAt(3);b2+=b2}else{if(b3.length===7){bY=b3.substring(1,3);b0=b3.substring(3,5);b2=b3.substring(5,7)}}bY=parseInt(bY,16);b0=parseInt(b0,16);b2=parseInt(b2,16)}return b1(bY,b0,b2)}function aQ(bY,b2,b4){var b0=Math.min(bY/=255,b2/=255,b4/=255),b5=Math.max(bY,b2,b4),b3=b5-b0,b1,b6,bZ=(b5+b0)/2;if(b3){b6=bZ<0.5?b3/(b5+b0):b3/(2-b5-b0);if(bY==b5){b1=(b2-b4)/b3+(b2<b4?6:0)}else{if(b2==b5){b1=(b4-bY)/b3+2}else{b1=(bY-b2)/b3+4}}b1*=60}else{b1=NaN;b6=bZ>0&&bZ<1?0:b1}return aA(b1,b6,bZ)}function bS(b1,b0,bZ){b1=bC(b1);b0=bC(b0);bZ=bC(bZ);var bY=a7((0.4124564*b1+0.3575761*b0+0.1804375*bZ)/G),b3=a7((0.2126729*b1+0.7151522*b0+0.072175*bZ)/F),b2=a7((0.0193339*b1+0.119192*b0+0.9503041*bZ)/E);return bH(116*b3-16,500*(bY-b3),200*(b3-b2))}function bC(bY){return(bY/=255)<=0.04045?bY/12.92:Math.pow((bY+0.055)/1.055,2.4)}function aq(bZ){var bY=parseFloat(bZ);return bZ.charAt(bZ.length-1)==="%"?Math.round(bY*2.55):bY}var aH=bq.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});aH.forEach(function(bY,bZ){aH.set(bY,U(bZ,am,bK))});bq.interpolateRgb=e;function e(bZ,bY){bZ=bq.rgb(bZ);bY=bq.rgb(bY);var b1=bZ.r,b0=bZ.g,b4=bZ.b,b3=bY.r-b1,b2=bY.g-b0,b5=bY.b-b4;return function(b6){return"#"+a0(Math.round(b1+b3*b6))+a0(Math.round(b0+b2*b6))+a0(Math.round(b4+b5*b6))}}var bx=o,bW=bx.documentElement,aB=window;var bI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};bq.ns={prefix:bI,qualify:function(bY){var bZ=bY.indexOf(":"),b0=bY;if(bZ>=0){b0=bY.substring(0,bZ);bY=bY.substring(bZ+1)}return bI.hasOwnProperty(b0)?{space:bI[b0],local:bY}:bY}};bq.transform=function(bY){var bZ=bx.createElementNS(bq.ns.prefix.svg,"g");return(bq.transform=function(b0){if(b0!=null){bZ.setAttribute("transform",b0);var b1=bZ.transform.baseVal.consolidate()}return new bM(b1?b1.matrix:bR)})(bY)};function bM(bY){var b1=[bY.a,bY.b],bZ=[bY.c,bY.d],b3=az(b1),b0=S(b1,bZ),b2=az(a6(bZ,b1,-b0))||0;if(b1[0]*bZ[1]<bZ[0]*b1[1]){b1[0]*=-1;b1[1]*=-1;b3*=-1;b0*=-1}this.rotate=(b3?Math.atan2(b1[1],b1[0]):Math.atan2(-bZ[0],bZ[1]))*a9;this.translate=[bY.e,bY.f];this.scale=[b3,b2];this.skew=b2?Math.atan2(b0,b2)*a9:0}bM.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function S(bZ,bY){return bZ[0]*bY[0]+bZ[1]*bY[1]}function az(bY){var bZ=Math.sqrt(S(bY,bY));if(bZ){bY[0]/=bZ;bY[1]/=bZ}return bZ}function a6(bZ,bY,b0){bZ[0]+=b0*bY[0];bZ[1]+=b0*bY[1];return bZ}var bR={a:1,b:0,c:0,d:1,e:0,f:0};bq.interpolateNumber=an;function an(bZ,bY){bY-=bZ=+bZ;return function(b0){return bZ+bY*b0}}bq.interpolateTransform=ak;function ak(cb,ca){var cc=[],bZ=[],b3,b2=bq.transform(cb),b1=bq.transform(ca),b7=b2.translate,b6=b1.translate,b0=b2.rotate,bY=b1.rotate,b5=b2.skew,b4=b1.skew,b9=b2.scale,b8=b1.scale;if(b7[0]!=b6[0]||b7[1]!=b6[1]){cc.push("translate(",null,",",null,")");bZ.push({i:1,x:an(b7[0],b6[0])},{i:3,x:an(b7[1],b6[1])})}else{if(b6[0]||b6[1]){cc.push("translate("+b6+")")}else{cc.push("")}}if(b0!=bY){if(b0-bY>180){bY+=360}else{if(bY-b0>180){b0+=360}}bZ.push({i:cc.push(cc.pop()+"rotate(",null,")")-2,x:an(b0,bY)})}else{if(bY){cc.push(cc.pop()+"rotate("+bY+")")}}if(b5!=b4){bZ.push({i:cc.push(cc.pop()+"skewX(",null,")")-2,x:an(b5,b4)})}else{if(b4){cc.push(cc.pop()+"skewX("+b4+")")}}if(b9[0]!=b8[0]||b9[1]!=b8[1]){b3=cc.push(cc.pop()+"scale(",null,",",null,")");bZ.push({i:b3-4,x:an(b9[0],b8[0])},{i:b3-2,x:an(b9[1],b8[1])})}else{if(b8[0]!=1||b8[1]!=1){cc.push(cc.pop()+"scale("+b8+")")}}b3=bZ.length;return function(ce){var cd=-1,cf;while(++cd<b3){cc[(cf=bZ[cd]).i]=cf.x(ce)}return cc.join("")}}bq.interpolateObject=bN;function bN(bZ,bY){var b1={},b2={},b0;for(b0 in bZ){if(b0 in bY){b1[b0]=ac(b0)(bZ[b0],bY[b0])}else{b2[b0]=bZ[b0]}}for(b0 in bY){if(!(b0 in bZ)){b2[b0]=bY[b0]}}return function(b3){for(b0 in b1){b2[b0]=b1[b0](b3)}return b2}}bq.interpolateArray=aC;function aC(b2,b0){var bZ=[],b5=[],b1=b2.length,bY=b0.length,b4=Math.min(b2.length,b0.length),b3;for(b3=0;b3<b4;++b3){bZ.push(bs(b2[b3],b0[b3]))}for(;b3<b1;++b3){b5[b3]=b2[b3]}for(;b3<bY;++b3){b5[b3]=b0[b3]}return function(b6){for(b3=0;b3<b4;++b3){b5[b3]=bZ[b3](b6)}return b5}}bq.interpolateString=bi;function bi(b5,b4){var b1,b3,b2,b7=0,b6=0,b8=[],bY=[],b0,bZ;b5=b5+"",b4=b4+"";i.lastIndex=0;for(b3=0;b1=i.exec(b4);++b3){if(b1.index){b8.push(b4.substring(b7,b6=b1.index))}bY.push({i:b8.length,x:b1[0]});b8.push(null);b7=i.lastIndex}if(b7<b4.length){b8.push(b4.substring(b7))}for(b3=0,b0=bY.length;(b1=i.exec(b5))&&b3<b0;++b3){bZ=bY[b3];if(bZ.x==b1[0]){if(bZ.i){if(b8[bZ.i+1]==null){b8[bZ.i-1]+=bZ.x;b8.splice(bZ.i,1);for(b2=b3+1;b2<b0;++b2){bY[b2].i--}}else{b8[bZ.i-1]+=bZ.x+b8[bZ.i+1];b8.splice(bZ.i,2);for(b2=b3+1;b2<b0;++b2){bY[b2].i-=2}}}else{if(b8[bZ.i+1]==null){b8[bZ.i]=bZ.x}else{b8[bZ.i]=bZ.x+b8[bZ.i+1];b8.splice(bZ.i+1,1);for(b2=b3+1;b2<b0;++b2){bY[b2].i--}}}bY.splice(b3,1);b0--;b3--}else{bZ.x=an(parseFloat(b1[0]),parseFloat(bZ.x))}}while(b3<b0){bZ=bY.pop();if(b8[bZ.i+1]==null){b8[bZ.i]=bZ.x}else{b8[bZ.i]=bZ.x+b8[bZ.i+1];b8.splice(bZ.i+1,1)}b0--}if(b8.length===1){return b8[0]==null?(bZ=bY[0].x,function(b9){return bZ(b9)+""}):function(){return b4}}return function(b9){for(b3=0;b3<b0;++b3){b8[(bZ=bY[b3]).i]=bZ.x(b9)}return b8.join("")}}var i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;bq.interpolate=bs;function bs(bZ,bY){var b0=bq.interpolators.length,b1;while(--b0>=0&&!(b1=bq.interpolators[b0](bZ,bY))){}return b1}function ac(bY){return bY=="transform"?ak:bs}bq.interpolators=[function(bZ,bY){var b0=typeof bY;return(b0==="string"?(aH.has(bY)||/^(#|rgb\(|hsl\()/.test(bY)?e:bi):bY instanceof ai?e:b0==="object"?(Array.isArray(bY)?aC:bN):an)(bZ,bY)}];bq.interpolateRound=aI;function aI(bZ,bY){bY-=bZ;return function(b0){return Math.round(bZ+bY*b0)}}function H(bZ,bY){bY=bY-(bZ=+bZ)?1/(bY-bZ):0;return function(b0){return(b0-bZ)*bY}}function X(bZ,bY){bY=bY-(bZ=+bZ)?1/(bY-bZ):0;return function(b0){return Math.max(0,Math.min(1,(b0-bZ)*bY))}}function m(bY){return bY}var aX=".",bk=",",a3=[3,3];var a8=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(aT);bq.formatPrefix=function(b0,bY){var bZ=0;if(b0){if(b0<0){b0*=-1}if(bY){b0=bq.round(b0,bd(b0,bY))}bZ=1+Math.floor(1e-12+Math.log(b0)/Math.LN10);bZ=Math.max(-24,Math.min(24,Math.floor((bZ<=0?bZ+1:bZ-1)/3)*3))}return a8[8+bZ/3]};function aT(b0,bZ){var bY=Math.pow(10,Math.abs(8-bZ)*3);return{scale:bZ>8?function(b1){return b1/bY}:function(b1){return b1*bY},symbol:b0}}bq.round=function(bY,bZ){return bZ?Math.round(bY*(bZ=Math.pow(10,bZ)))/bZ:Math.round(bY)};bq.format=function(b9){var b6=x.exec(b9),cb=b6[1]||" ",b7=b6[2]||">",b0=b6[3]||"",bY=b6[4]||"",b2=b6[5],bZ=+b6[6],cc=b6[7],b5=b6[8],b8=b6[9],b1=1,ca="",b4=false;if(b5){b5=+b5.substring(1)}if(b2||cb==="0"&&b7==="="){b2=cb="0";b7="=";if(cc){bZ-=Math.floor((bZ-1)/4)}}switch(b8){case"n":cc=true;b8="g";break;case"%":b1=100;ca="%";b8="f";break;case"p":b1=100;ca="%";b8="r";break;case"b":case"o":case"x":case"X":if(bY){bY="0"+b8.toLowerCase()}case"c":case"d":b4=true;b5=0;break;case"s":b1=-1;b8="r";break}if(bY==="#"){bY=""}if(b8=="r"&&!b5){b8="g"}if(b5!=null){if(b8=="g"){b5=Math.max(1,Math.min(21,b5))}else{if(b8=="e"||b8=="f"){b5=Math.max(0,Math.min(20,b5))}}}b8=ay.get(b8)||bA;var b3=b2&&cc;return function(cg){if(b4&&(cg%1)){return""}var cd=cg<0||cg===0&&1/cg<0?(cg=-cg,"-"):b0;if(b1<0){var cf=bq.formatPrefix(cg,b5);cg=cf.scale(cg);ca=cf.symbol}else{cg*=b1}cg=b8(cg,b5);if(!b2&&cc){cg=br(cg)}var ce=bY.length+cg.length+(b3?0:cd.length),ch=ce<bZ?new Array(ce=bZ-ce+1).join(cb):"";if(b3){cg=br(ch+cg)}if(aX){cg.replace(".",aX)}cd+=bY;return(b7==="<"?cd+cg+ch:b7===">"?ch+cd+cg:b7==="^"?ch.substring(0,ce>>=1)+cd+cg+ch.substring(ce):cd+(b3?cg:ch+cg))+ca}};var x=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var ay=bq.map({b:function(bY){return bY.toString(2)},c:function(bY){return String.fromCharCode(bY)},o:function(bY){return bY.toString(8)},x:function(bY){return bY.toString(16)},X:function(bY){return bY.toString(16).toUpperCase()},g:function(bY,bZ){return bY.toPrecision(bZ)},e:function(bY,bZ){return bY.toExponential(bZ)},f:function(bY,bZ){return bY.toFixed(bZ)},r:function(bY,bZ){return(bY=bq.round(bY,bd(bY,bZ))).toFixed(Math.max(0,Math.min(20,bd(bY*(1+1e-15),bZ))))}});function bd(bY,bZ){return bZ-(bY?Math.ceil(Math.log(bY)/Math.LN10):1)}function bA(bY){return bY+""}var br=m;if(a3){var B=a3.length;br=function(b3){var b0=b3.lastIndexOf("."),b2=b0>=0?"."+b3.substring(b0+1):(b0=b3.length,""),bZ=[],bY=0,b1=a3[0];while(b0>0&&b1>0){bZ.push(b3.substring(b0-=b1,b0+b1));b1=a3[bY=(bY+1)%B]}return bZ.reverse().join(bk||"")+b2}}function bU(b2,bY,b3,b0){var bZ=b3(b2[0],b2[1]),b1=b0(bY[0],bY[1]);return function(b4){return b1(bZ(b4))}}function bu(b4,b2){var b3=0,b1=b4.length-1,b0=b4[b3],bZ=b4[b1],bY;if(bZ<b0){bY=b3,b3=b1,b1=bY;bY=b0,b0=bZ,bZ=bY}b4[b3]=b2.floor(b0);b4[b1]=b2.ceil(bZ);return b4}function aW(bY){return bY?{floor:function(bZ){return Math.floor(bZ/bY)*bY},ceil:function(bZ){return Math.ceil(bZ/bY)*bY}}:ah}var ah={floor:m,ceil:m};bq.bisector=function(bY){return{left:function(b0,bZ,b3,b2){if(arguments.length<3){b3=0}if(arguments.length<4){b2=b0.length}while(b3<b2){var b1=b3+b2>>>1;if(bY.call(b0,b0[b1],b1)<bZ){b3=b1+1}else{b2=b1}}return b3},right:function(b0,bZ,b3,b2){if(arguments.length<3){b3=0}if(arguments.length<4){b2=b0.length}while(b3<b2){var b1=b3+b2>>>1;if(bZ<bY.call(b0,b0[b1],b1)){b2=b1}else{b3=b1+1}}return b3}}};var r=bq.bisector(function(bY){return bY});bq.bisectLeft=r.left;bq.bisect=bq.bisectRight=r.right;function p(b4,bZ,b5,b2){var b1=[],b3=[],b0=0,bY=Math.min(b4.length,bZ.length)-1;if(b4[bY]<b4[0]){b4=b4.slice().reverse();bZ=bZ.slice().reverse()}while(++b0<=bY){b1.push(b5(b4[b0-1],b4[b0]));b3.push(b2(bZ[b0-1],bZ[b0]))}return function(b6){var b7=bq.bisect(b4,b6,1,bY)-1;return b3[b7](b1[b7](b6))}}bq.scale.linear=function(){return af([0,1],[0,1],bs,false)};function af(b3,b1,b2,b5){var b0,bZ;function bY(){var b6=Math.min(b3.length,b1.length)>2?p:bU,b7=b5?X:H;b0=b6(b3,b1,b7,b2);bZ=b6(b1,b3,b7,bs);return b4}function b4(b6){return b0(b6)}b4.invert=function(b6){return bZ(b6)};b4.domain=function(b6){if(!arguments.length){return b3}b3=b6.map(Number);return bY()};b4.range=function(b6){if(!arguments.length){return b1}b1=b6;return bY()};b4.rangeRound=function(b6){return b4.range(b6).interpolate(aI)};b4.clamp=function(b6){if(!arguments.length){return b5}b5=b6;return bY()};b4.interpolate=function(b6){if(!arguments.length){return b2}b2=b6;return bY()};b4.ticks=function(b6){return D(b3,b6)};b4.tickFormat=function(b6,b7){return a(b3,b6,b7)};b4.nice=function(b6){ae(b3,b6);return bY()};b4.copy=function(){return af(b3,b1,b2,b5)};return bY()}function bt(bZ,bY){return bq.rebind(bZ,bY,"range","rangeRound","interpolate","clamp")}function ae(bZ,bY){return bu(bZ,aW(bY?L(bZ,bY)[2]:bc(bZ)))}function bc(b0){var bZ=T(b0),bY=bZ[1]-bZ[0];return Math.pow(10,Math.round(Math.log(bY)/Math.LN10)-1)}function L(b3,bY){var b0=T(b3),bZ=b0[1]-b0[0],b2=Math.pow(10,Math.floor(Math.log(bZ/bY)/Math.LN10)),b1=bY/bZ*b2;if(b1<=0.15){b2*=10}else{if(b1<=0.35){b2*=5}else{if(b1<=0.75){b2*=2}}}b0[0]=Math.ceil(b0[0]/b2)*b2;b0[1]=Math.floor(b0[1]/b2)*b2+b2*0.5;b0[2]=b2;return b0}function D(bZ,bY){return bq.range.apply(bq,L(bZ,bY))}function a(b0,bY,b1){var bZ=-Math.floor(Math.log(L(b0,bY)[2])/Math.LN10+0.01);return bq.format(b1?b1.replace(x,function(cb,ca,b9,b8,b7,b6,b5,b4,b3,b2){return[ca,b9,b8,b7,b6,b5,b4,b3||"."+(bZ-(b2==="%")*2),b2].join("")}):",."+bZ+"f")}bq.scale.log=function(){return bF(bq.scale.linear().domain([0,Math.LN10]),10,bO,aS,[1,10])};function bF(bY,b2,bZ,b0,b1){function b3(b4){return bY(bZ(b4))}b3.invert=function(b4){return b0(bY.invert(b4))};b3.domain=function(b4){if(!arguments.length){return b1}if(b4[0]<0){bZ=bQ,b0=aV}else{bZ=bO,b0=aS}bY.domain((b1=b4.map(Number)).map(bZ));return b3};b3.base=function(b4){if(!arguments.length){return b2}b2=+b4;return b3};b3.nice=function(){function b5(b6){return Math.pow(b2,Math.floor(Math.log(b6)/Math.log(b2)))}function b4(b6){return Math.pow(b2,Math.ceil(Math.log(b6)/Math.log(b2)))}bY.domain(bu(b1,bZ===bO?{floor:b5,ceil:b4}:{floor:function(b6){return -b4(-b6)},ceil:function(b6){return -b5(-b6)}}).map(bZ));return b3};b3.ticks=function(){var cc=T(bY.domain()),b9=[];if(cc.every(isFinite)){var b8=Math.log(b2),b7=Math.floor(cc[0]/b8),b6=Math.ceil(cc[1]/b8),cb=b0(cc[0]),ca=b0(cc[1]),b4=b2%1?2:b2;if(bZ===bQ){b9.push(-Math.pow(b2,-b7));for(;b7++<b6;){for(var b5=b4-1;b5>0;b5--){b9.push(-Math.pow(b2,-b7)*b5)}}}else{for(;b7<b6;b7++){for(var b5=1;b5<b4;b5++){b9.push(Math.pow(b2,b7)*b5)}}b9.push(Math.pow(b2,b7))}for(b7=0;b9[b7]<cb;b7++){}for(b6=b9.length;b9[b6-1]>ca;b6--){}b9=b9.slice(b7,b6)}return b9};b3.tickFormat=function(b9,b8){if(!arguments.length){return bT}if(arguments.length<2){b8=bT}else{if(typeof b8!=="function"){b8=bq.format(b8)}}var b4=Math.log(b2),b5=Math.max(0.1,b9/b3.ticks().length),b6=bZ===bQ?(b7=-1e-12,Math.floor):(b7=1e-12,Math.ceil),b7;return function(ca){return ca/b0(b4*b6(bZ(ca)/b4+b7))<=b5?b8(ca):""}};b3.copy=function(){return bF(bY.copy(),b2,bZ,b0,b1)};return bt(b3,bY)}var bT=bq.format(".0e");function bO(bY){return Math.log(bY<0?0:bY)}function aS(bY){return Math.exp(bY)}function bQ(bY){return -Math.log(bY>0?0:-bY)}function aV(bY){return -Math.exp(-bY)}bq.scale.pow=function(){return bn(bq.scale.linear(),1,[0,1])};function bn(bY,b1,b0){var bZ=y(b1),b2=y(1/b1);function b3(b4){return bY(bZ(b4))}b3.invert=function(b4){return b2(bY.invert(b4))};b3.domain=function(b4){if(!arguments.length){return b0}bY.domain((b0=b4.map(Number)).map(bZ));return b3};b3.ticks=function(b4){return D(b0,b4)};b3.tickFormat=function(b4,b5){return a(b0,b4,b5)};b3.nice=function(b4){return b3.domain(ae(b0,b4))};b3.exponent=function(b4){if(!arguments.length){return b1}bZ=y(b1=b4);b2=y(1/b1);bY.domain(b0.map(bZ));return b3};b3.copy=function(){return bn(bY.copy(),b1,b0)};return bt(b3,bY)}function y(bY){return function(bZ){return bZ<0?-Math.pow(-bZ,bY):Math.pow(bZ,bY)}}bq.scale.sqrt=function(){return bq.scale.pow().exponent(0.5)};bq.scale.ordinal=function(){return k([],{t:"range",a:[[]]})};function k(b3,b0){var b2,bZ,b1;function b4(b5){return bZ[((b2.get(b5)||b2.set(b5,b3.push(b5)))-1)%bZ.length]}function bY(b6,b5){return bq.range(b3.length).map(function(b7){return b6+b5*b7})}b4.domain=function(b5){if(!arguments.length){return b3}b3=[];b2=new a1;var b7=-1,b8=b5.length,b6;while(++b7<b8){if(!b2.has(b6=b5[b7])){b2.set(b6,b3.push(b6))}}return b4[b0.t].apply(b4,b0.a)};b4.range=function(b5){if(!arguments.length){return bZ}bZ=b5;b1=0;b0={t:"range",a:arguments};return b4};b4.rangePoints=function(b5,b8){if(arguments.length<2){b8=0}var b9=b5[0],b6=b5[1],b7=(b6-b9)/(Math.max(1,b3.length-1)+b8);bZ=bY(b3.length<2?(b9+b6)/2:b9+b7*b8/2,b7);b1=0;b0={t:"rangePoints",a:arguments};return b4};b4.rangeBands=function(b6,ca,b5){if(arguments.length<2){ca=0}if(arguments.length<3){b5=ca}var b7=b6[1]<b6[0],cb=b6[b7-0],b8=b6[1-b7],b9=(b8-cb)/(b3.length-ca+2*b5);bZ=bY(cb+b9*b5,b9);if(b7){bZ.reverse()}b1=b9*(1-ca);b0={t:"rangeBands",a:arguments};return b4};b4.rangeRoundBands=function(b6,cb,b5){if(arguments.length<2){cb=0}if(arguments.length<3){b5=cb}var b8=b6[1]<b6[0],cc=b6[b8-0],b9=b6[1-b8],ca=Math.floor((b9-cc)/(b3.length-cb+2*b5)),b7=b9-cc-(b3.length-cb)*ca;bZ=bY(cc+Math.round(b7/2),ca);if(b8){bZ.reverse()}b1=Math.round(ca*(1-cb));b0={t:"rangeRoundBands",a:arguments};return b4};b4.rangeBand=function(){return b1};b4.rangeExtent=function(){return T(b0.a[0])};b4.copy=function(){return k(b3,b0)};return b4.domain(b3)}bq.scale.category10=function(){return bq.scale.ordinal().range(ag)};bq.scale.category20=function(){return bq.scale.ordinal().range(M)};bq.scale.category20b=function(){return bq.scale.ordinal().range(aN)};bq.scale.category20c=function(){return bq.scale.ordinal().range(aM)};var ag=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];var M=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];var aN=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];var aM=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];bq.ascending=function(bZ,bY){return bZ<bY?-1:bZ>bY?1:bZ>=bY?0:NaN};bq.quantile=function(bZ,b3){var b0=(bZ.length-1)*b3+1,b1=Math.floor(b0),bY=+bZ[b1-1],b2=b0-b1;return b2?bY+b2*(bZ[b1]-bY):bY};bq.scale.quantile=function(){return av([],[])};function av(b0,bZ){var b1;function bY(){var b3=0,b4=bZ.length;b1=[];while(++b3<b4){b1[b3-1]=bq.quantile(b0,b3/b4)}return b2}function b2(b3){if(isNaN(b3=+b3)){return NaN}return bZ[bq.bisect(b1,b3)]}b2.domain=function(b3){if(!arguments.length){return b0}b0=b3.filter(function(b4){return !isNaN(b4)}).sort(bq.ascending);return bY()};b2.range=function(b3){if(!arguments.length){return bZ}bZ=b3;return bY()};b2.quantiles=function(){return b1};b2.copy=function(){return av(b0,bZ)};return bY()}bq.scale.quantize=function(){return O(0,1,[0,1])};function O(b2,b0,bZ){var b3,b1;function b4(b5){return bZ[Math.max(0,Math.min(b1,Math.floor(b3*(b5-b2))))]}function bY(){b3=bZ.length/(b0-b2);b1=bZ.length-1;return b4}b4.domain=function(b5){if(!arguments.length){return[b2,b0]}b2=+b5[0];b0=+b5[b5.length-1];return bY()};b4.range=function(b5){if(!arguments.length){return bZ}bZ=b5;return bY()};b4.copy=function(){return O(b2,b0,bZ)};b4.invertExtent=function(b5){b5=bZ.indexOf(b5);b5=b5<0?NaN:b5/b3+b2;return[b5,b5+1/b3]};return bY()}bq.scale.threshold=function(){return n([0.5],[0,1])};function n(bZ,bY){function b0(b1){return bY[bq.bisect(bZ,b1)]}b0.domain=function(b1){if(!arguments.length){return bZ}bZ=b1;return b0};b0.range=function(b1){if(!arguments.length){return bY}bY=b1;return b0};b0.invertExtent=function(b1){b1=bY.indexOf(b1);return[bZ[b1-1],bZ[b1]]};b0.copy=function(){return n(bZ,bY)};return b0}bq.scale.identity=function(){return a4([0,1])};function a4(bZ){function bY(b0){return +b0}bY.invert=bY;bY.domain=bY.range=function(b0){if(!arguments.length){return bZ}bZ=b0.map(bY);return bY};bY.ticks=function(b0){return D(bZ,b0)};bY.tickFormat=function(b0,b1){return a(bZ,b0,b1)};bY.copy=function(){return a4(bZ)};return bY}var ao={};ao.HGRAPH_WIDTH=960;ao.HGRAPH_HEIGHT=720;ao.HGRAPH_RADIUS=120;ao.HGRAPH_APP_BOOTSTRAPS=["data-hgraph-app","hgraph-app"];ao.HGRAPH_GRAPH_BOOTSTRAPS=["data-hgraph-graph","hgraph-graph"];var R=Math.ceil;var bE=Math.floor;var N=Array.prototype.slice;var bb=bG.isArray;var ar=bG.isString;var Q=bG.isFunction;var j=(function(){var bY=0;return(function(){return"uid-"+(++bY)})})();var Y=function(bY,bZ){if(!bb(bZ)||!Q(bY)){return function(){}}return function(){bY.apply({},bZ)}};bl.Graph=function(b1){this.ready=false;if(!b1){return false}this.invokeQueue=[];var cb=b1.uid||j(),b2=b1.container,b7=o.createElement("canvas"),cc=o.createElement("uiLayer"),b4=b7.getContext("2d"),ca={x:0,y:0,isDown:false},bZ={position:{x:0,y:0},rotation:0,scale:1},b9=[];b9.push(new bl.Graph.Ring());var cd=Y(function(cf){console.log("drawing");for(var ce=0;ce<cf.length;ce++){cf[ce].Draw()}},[b9]);var b8=Y(function(ce){return ce()},[cd]);var b6=Y(function(ch,cj,ci,cf,ce){for(var cg=0;cg<cj.length;cg++){cj[cg].Initialize(ch,ci,ce,cf)}},[cb,b9,b4,ca,bZ]);var bY=Y(function(ch,cf,cg,ce){ch.x=Math.random();return b8()},[ca,b2,bZ,b8]);var b5=Y(function(ce){ce.isDown=true;bG(o).bind("mouseup",b0)},[ca,b0]);var b0=Y(function(ce){ce.isDown=false;bG(o).unbind("mouseup")},[ca]);try{b2.appendChild(b7);b2.appendChild(cc)}catch(b3){this.ready=false;return console.error("hGraph was unable to create a graph in the container")}bG(b7).attr("hgraph-layer","data").attr("width",ao.HGRAPH_WIDTH).attr("height",ao.HGRAPH_HEIGHT);bG(cc).attr("hgraph-layer","ui").bind("mousemove",bY).bind("mousedown",b5).bind("mouseup",b0);this.ready=true;this.invokeQueue=[b8,b6]};bl.Graph.prototype={constructor:bl.graph,Initialize:function(){var bY;while(bY=this.invokeQueue.pop()){if(Q(bY)){bY()}}}};bl.Graph.Component=function(bY){var b0={};bY(b0);function bZ(){}bZ.prototype.Initialize=function(b3,b4,b2,b1){this.uid=b3;this.device=b4;this.transform=b2;this.mouse=b1};bG.extend(bZ.prototype,b0);return bZ};bl.Graph.Ring=bl.Graph.Component(function(bY){bY.Draw=function(){console.log("drawing ring for graph: "+this.uid)};bY.Update=function(){}});function V(bY){var bZ=j();aF[bZ]=new bl.Graph({uid:bZ,container:bY})}function z(){bG(ao.HGRAPH_GRAPH_BOOTSTRAPS).each(function(b1,bZ){var b2=bG("["+bZ+"]");for(var b0=0;b0<b2.length;b0++){V(b2[b0])}});for(var bY in aF){aF[bY].Initialize()}}function aP(){bG(ao.HGRAPH_APP_BOOTSTRAPS).each(function(bZ,bY){var b0=bG("["+bY+"]");if(b0.length>0){aG=b0.first()}});if(aG!==false){return z()}}bG(o).ready(aP);s.hGraph=bl})(window);